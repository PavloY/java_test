<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>BUS</title>

    <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="/static/bootstrap-4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/head.css">
    <link rel="stylesheet" href="/static/css/font_size.css">
    <link rel="stylesheet" href="/static/css/chat.css">
    <link rel="stylesheet" href="/static/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="/static/css/css-stars.css">
    <link rel="stylesheet" href="/static/css/autocomplete.css">
    <link rel="stylesheet" href="/static/css/flag_drop.css">
    <link rel="stylesheet" href="/static/css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" href="/static/css/fotorama.css">
    <link rel="stylesheet" href="/static/css/five-colums.css">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/media.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="/static/js/popper.min.js"></script>
    <script src="/static/bootstrap-4.3.1/js/bootstrap.min.js"></script>
    <script src="/static/js/moment.min.js"></script>
    <script src="/static/js/bootstrap-datetimepicker.min.js"></script>
    <script src="/static/js/fotorama.js"></script><style type="text/css"></style>
    <script src="/static/js/pagination.js"></script>
    <script src="/static/js/rate.js"></script>
    <script src="/static/js/main.js"></script>
    <script src="/static/js/jquery.barrating.min.js"></script>
</head>
<body>
<header>
    <div class="container bg-white d-flex justify-content-between align-items-center">
        <div class="btn-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="row-6 logo">
            <a href="/en/">
                <img src="/static/logo.png" class="w-50" alt="logo">
            </a>
        </div>
        <div class="d-flex row-6 align-items-center">
            <div class="d-none  ">
                <a class="btn btn-outline-primary mr-2 btn-sm border-width-1" href="/en/company/signup/" role="button">
                    FOR BUSINESS
                </a>
                <div class="dropdown">
                    <button id="dLabel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-primary">
                        SIGN IN
                    </button>
                    <div class="dropdown-menu px-4 py-3" aria-labelledby="dLabel">
                        <div class="form-group">
                            <label for="email">Email address</label>
                            <input type="email" class="form-control" id="email" placeholder="email@example.com">
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" class="form-control" id="password" placeholder="Password">
                        </div>
                        <button onclick="sign_in()" class="btn btn-primary">Sign in</button>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item disabled" href="#">New around here? Sign up</a>
                        <a class="dropdown-item disabled" href="#">Forgot password?</a>

                    </div>
                </div>
            </div>
            <div class="justify-content-end d-flex">
                <div class="d-flex align-items-center">
                    <div>
                        <img src="/static/letter.png" alt="" style="width: 22px;">
                        <span class="badge badge-success badge-pill mr position-absolute t-11 ml--10">9</span>
                    </div>
                    <a class="m-3" href="/en/traveler/">
                        
                            <img class="rounded-circle logo_image_user" src="https://api.rab.dev19.splinestudio.com/static/travelers_profile_pic/2020_1_13_9_24_13_1.jpg" alt="">
                        
                    </a>
                        
                            <a id="dashboard_link" class="t-14" href="/en/traveler/">Lesha Afternoon</a>
                        
                </div>
            </div>
            <div class="dropdown">
                <button class="dropbtn align-items-center d-flex">
                    <img src="/static/flags/en.gif" alt="">
                    <i class="fas fa-angle-down"></i>
                </button>
                <div class="dropdown-content">
                    
                        <a href="#" id="it"><img src="/static/flags/it.gif" alt=""></a>
                    
                        <a href="#" id="es"><img src="/static/flags/es.gif" alt=""></a>
                    
                        <a href="#" id="nl"><img src="/static/flags/nl.gif" alt=""></a>
                    
                        <a href="#" id="de"><img src="/static/flags/de.gif" alt=""></a>
                    
                        <a href="#" id="ca"><img src="/static/flags/ca.gif" alt=""></a>
                    
                </div>
            </div>
        </div>
    </div>
</header>
<script>
    $(window).resize(function(){
        let win = $(this);

        if (win.width() <= 767) $(`#dLabel`).addClass('mr-2');
        else $(`#dLabel`).removeClass('mr-2');
    });

    function logout() {
        localStorage.removeItem('jwt');
        document.cookie = `token=;path=/`;
        window.location.href = '/'
    }

    function sign_in() {
        if ($(`#email`).val() && $(`#password`).val()) {
            send_post(`/login/`, {
                'email': $('#email')[0].value,
                'password': $('#password')[0].value,
            }, true, (response) => {
                if (response.status === 1) {
                    localStorage.setItem('jwt', response.token);
                    localStorage.setItem('type', response.type);
                    document.cookie = `token=${response.token}; path=/;`;
                    window.location.href = response.url;
                }
            })
        }
    }


    let current_lang = 'en';
    $('.dropdown-content a').click(function () {
        let new_url = window.location.pathname;
        new_url = new_url.replace(current_lang, this.id);
        window.location = new_url;
    });

    $('.btn-menu').click( function(){
        $(this).toggleClass('active');
        $('.bg-primary .nav').toggleClass('open-nav');
        $('body').toggleClass('is-open');
    });

    $('.dropdown-menu').click(function(e) {
        e.stopPropagation();
    });
</script>

<div class="bg-primary">
    <ul class="nav container">
        <li class="nav-item">
            <a class="nav-link" href="/en/">Home</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/en/get-transport-quote/">Get Transport Quote!</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/en/countries/">Countries</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Trips &amp; Info</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/en/contacts/">Contact</a>
        </li>
    </ul>
</div>
<div class="bg-light d-none" id="tab-list">
    <div class="container">
        <div class="row list-content">
            

        </div>
    </div>
</div>
<div class="container h-100">
    <div id="main_case" class="row bg-white">
        

    </div>
</div>

<div class="bg-light" id="tab-list">
    <div class="container">
        <div class="row">
            <ul class="nav nav-tabs justify-content-between" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="my_request" data-toggle="tab" href="#quote_requests" role="tab" aria-selected="true">
            Quote Requests
            <span class="badge badge-pill badge-rose">2</span>
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="my_messages" data-toggle="tab" href="#my_messages_tab" role="tab">
            Account Settings
        </a>
    </li> 
    <li class="nav-item">
        <a class="nav-link" id="my_history" href="/en/traveler/review/">
            Trips History
            <span class="badge badge-pill badge-rose">3</span>
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="my_reservations" data-toggle="tab" href="#reservations_requests" role="tab">
            Reservation Requests
            <span class="badge badge-pill badge-rose">0</span>
        </a>
    </li>
</ul>
        </div>
    </div>
</div>
<div class="container h-100 p-0">
    <div class="bg-white">
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane active" id="quote_requests" role="tabpanel" aria-labelledby="my_request">
                
<h2><b>Quote requests</b></h2>
<div class="flex no-wrap align-item-center">
    <p class="request">Here you do find the list with your outstanding quote requests. Continue at “View Quotes” to
        see the received quotes for each of the planned trips. If you would like to request another quote for a new
        trip you can start via “Travel Plan - Request Quote” in the blue bar in the top of this page.</p>
    <a href="mailto:service@rentabus.com" class="text-decoration-none">
        <button class="btn-white">ASK CUSTOMER SERVICE</button>
    </a>
</div>



<div class="col-12 card-trip add-sub flex align-items-center">
    
        <div class="t-14 col-12 p-0 flex justify-content-between">
            <div class="flex">
                <span class="original-trip">Original</span>
                <b class="t-18">Trip: 20200121807 </b>
                January 21, 2020, 16:04
            </div>
            <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Return trip</span>
                        
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-12 margin-mob p-0">
            
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>Start trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Киев, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>February 29, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>17:03 </span>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-12 margin-mob p-0">
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>End trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Киев, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>February 29, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>18:03</span>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>






















            </div>
            <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200121807">VIEW QUOTES</button>
                <button class="btn_white mb-0 open-popup-request w-100" onclick="open_create_subtrip_popup(20200121807, 20200121807)">create sub-version</button>
            </div>
        </div>
        
        <div class="sub-container border-block">
            <span class="font-italic text-secondary-dark">Trip versions</span>
            
            <div class="col-12 card-trip sub-card flex align-items-center">
                <div class="t-14 col-12 p-0 flex justify-content-between">
                    <div class="flex">
                        <span class="version-trip">V-1</span>
                        <b class="t-18">Trip: 20200121807.1 </b>
                        January 23, 2020, 09:02
                        <span class="font-italic grey t-14 px-3">Created by Traveler</span>
                    </div>
                    <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#6AC259" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Multi-destination trip</span>
                        
                </div>
            </div>
                </div>
                
                <div class="col-lg-3 col-md-12 margin-mob p-0">
                    
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>Start trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Dnipro, Dnipropetrovsk Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>February 29, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>11:02 </span>
                        </div>
                    </div>
                    
                    <div class="col-lg-3 col-md-12 margin-mob p-0">
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>End trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Киев, Ukraine</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>February 29, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>20:02</span>
                        </div>
                    </div>
                    
                    <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>
                <div class="t-13 flex justify-content-between">
                    <span class="justify-content-around public-span p-1" id="public_sub1">PUBLIC</span>
                    <div class="center checkbox-block pt-1">
                        <input type="checkbox" checked="" id="cbx_sub1" style="display:none">
                        <label for="cbx_sub1" class="toggle">
                            <span></span>
                        </label>
                        <script>
                            $('#cbx_sub1').click(function () {
                                if ($('#cbx_sub1').is(":checked")){
                                    $('#public_sub1').removeClass('sup');
                                    $('#public_sub1').addClass('public-span');
                                } else {
                                    $('#public_sub1').addClass('sup');
                                    $('#public_sub1').removeClass('public-span');
                                }
                                let data = {
                                    'sub_trip_id': 20200123812,
                                    'public_status': $('#cbx_sub1').is(":checked")
                                };

                                send_post('/traveler/change_sub_trip_status/', data, false, (response)=>{
                                })
                            })
                        </script>
                    </div>
                    <a href="#">What's this?</a>
                </div>
            </div>
                    <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200123812">VIEW QUOTES</button>
                <button class="btn_white mb-0 btn-popup-quote open-popup-request w-100" onclick="open_create_subtrip_popup(20200123812, 20200121807.1)">create sub-version</button>
            </div>
                </div>
                
            <div class="col-12 card-trip sub-card flex align-items-center">
                <div class="t-14 col-12 p-0 flex justify-content-between">
                    <div class="flex">
                        <span class="version-trip">V-2</span>
                        <b class="t-18">Trip: 20200121807.2 </b>
                        January 23, 2020, 09:09
                        <span class="font-italic grey t-14 px-3">Created by Traveler</span>
                    </div>
                    <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#6AC259" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Multi-destination trip</span>
                        
                </div>
            </div>
                </div>
                
                <div class="col-lg-3 col-md-12 margin-mob p-0">
                    
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>Start trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Dnipro, Dnipropetrovsk Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">ЖД Одеса, Odesa, Odessa Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>February 29, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>11:09 </span>
                        </div>
                    </div>
                    
                    <div class="col-lg-3 col-md-12 margin-mob p-0">
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>End trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Киев, Ukraine</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>February 29, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>22:02</span>
                        </div>
                    </div>
                    
                    <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>
                <div class="t-13 flex justify-content-between">
                    <span class="justify-content-around public-span p-1" id="public_sub2">PUBLIC</span>
                    <div class="center checkbox-block pt-1">
                        <input type="checkbox" checked="" id="cbx_sub2" style="display:none">
                        <label for="cbx_sub2" class="toggle">
                            <span></span>
                        </label>
                        <script>
                            $('#cbx_sub2').click(function () {
                                if ($('#cbx_sub2').is(":checked")){
                                    $('#public_sub2').removeClass('sup');
                                    $('#public_sub2').addClass('public-span');
                                } else {
                                    $('#public_sub2').addClass('sup');
                                    $('#public_sub2').removeClass('public-span');
                                }
                                let data = {
                                    'sub_trip_id': 20200123813,
                                    'public_status': $('#cbx_sub2').is(":checked")
                                };

                                send_post('/traveler/change_sub_trip_status/', data, false, (response)=>{
                                })
                            })
                        </script>
                    </div>
                    <a href="#">What's this?</a>
                </div>
            </div>
                    <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200123813">VIEW QUOTES</button>
                <button class="btn_white mb-0 btn-popup-quote open-popup-request w-100" onclick="open_create_subtrip_popup(20200123813, 20200121807.2)">create sub-version</button>
            </div>
                </div>
                
            <div class="col-12 card-trip sub-card flex align-items-center">
                <div class="t-14 col-12 p-0 flex justify-content-between">
                    <div class="flex">
                        <span class="version-trip">V-3</span>
                        <b class="t-18">Trip: 20200121807.3 </b>
                        January 23, 2020, 09:32
                        <span class="font-italic grey t-14 px-3">Created by Traveler</span>
                    </div>
                    <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#6AC259" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Multi-destination trip</span>
                        
                </div>
            </div>
                </div>
                
                <div class="col-lg-3 col-md-12 margin-mob p-0">
                    
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>Start trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Dnipro, Dnipropetrovsk Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Щёлково, Russia</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>February 29, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>13:02 </span>
                        </div>
                    </div>
                    
                    <div class="col-lg-3 col-md-12 margin-mob p-0">
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>End trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Киев, Ukraine</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>March 01, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>00:03</span>
                        </div>
                    </div>
                    
                    <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>
                <div class="t-13 flex justify-content-between">
                    <span class="justify-content-around sup p-1" id="public_sub3">PUBLIC</span>
                    <div class="center checkbox-block pt-1">
                        <input type="checkbox" id="cbx_sub3" style="display:none">
                        <label for="cbx_sub3" class="toggle">
                            <span></span>
                        </label>
                        <script>
                            $('#cbx_sub3').click(function () {
                                if ($('#cbx_sub3').is(":checked")){
                                    $('#public_sub3').removeClass('sup');
                                    $('#public_sub3').addClass('public-span');
                                } else {
                                    $('#public_sub3').addClass('sup');
                                    $('#public_sub3').removeClass('public-span');
                                }
                                let data = {
                                    'sub_trip_id': 20200123814,
                                    'public_status': $('#cbx_sub3').is(":checked")
                                };

                                send_post('/traveler/change_sub_trip_status/', data, false, (response)=>{
                                })
                            })
                        </script>
                    </div>
                    <a href="#">What's this?</a>
                </div>
            </div>
                    <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200123814">VIEW QUOTES</button>
                <button class="btn_white mb-0 btn-popup-quote open-popup-request w-100" onclick="open_create_subtrip_popup(20200123814, 20200121807.3)">create sub-version</button>
            </div>
                </div>
                
            <div class="col-12 card-trip sub-card flex align-items-center">
                <div class="t-14 col-12 p-0 flex justify-content-between">
                    <div class="flex">
                        <span class="version-trip">V-4</span>
                        <b class="t-18">Trip: 20200121807.4 </b>
                        January 23, 2020, 09:38
                        <span class="font-italic grey t-14 px-3">Created by Traveler</span>
                    </div>
                    <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>44
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#6AC259" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Multi-destination trip</span>
                        
                </div>
            </div>
                </div>
                
                <div class="col-lg-3 col-md-12 margin-mob p-0">
                    
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>Start trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Dnipro, Dnipropetrovsk Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Щёлково, Russia</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>February 29, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>15:02 </span>
                        </div>
                    </div>
                    
                    <div class="col-lg-3 col-md-12 margin-mob p-0">
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>End trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Киев, Ukraine</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>March 01, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>02:03</span>
                        </div>
                    </div>
                    
                    <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>
                <div class="t-13 flex justify-content-between">
                    <span class="justify-content-around sup p-1" id="public_sub4">PUBLIC</span>
                    <div class="center checkbox-block pt-1">
                        <input type="checkbox" id="cbx_sub4" style="display:none">
                        <label for="cbx_sub4" class="toggle">
                            <span></span>
                        </label>
                        <script>
                            $('#cbx_sub4').click(function () {
                                if ($('#cbx_sub4').is(":checked")){
                                    $('#public_sub4').removeClass('sup');
                                    $('#public_sub4').addClass('public-span');
                                } else {
                                    $('#public_sub4').addClass('sup');
                                    $('#public_sub4').removeClass('public-span');
                                }
                                let data = {
                                    'sub_trip_id': 20200123815,
                                    'public_status': $('#cbx_sub4').is(":checked")
                                };

                                send_post('/traveler/change_sub_trip_status/', data, false, (response)=>{
                                })
                            })
                        </script>
                    </div>
                    <a href="#">What's this?</a>
                </div>
            </div>
                    <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200123815">VIEW QUOTES</button>
                <button class="btn_white mb-0 btn-popup-quote open-popup-request w-100" onclick="open_create_subtrip_popup(20200123815, 20200121807.4)">create sub-version</button>
            </div>
                </div>
                
            <div class="col-12 card-trip sub-card flex align-items-center">
                <div class="t-14 col-12 p-0 flex justify-content-between">
                    <div class="flex">
                        <span class="version-trip">V-5</span>
                        <b class="t-18">Trip: 20200121807.5 </b>
                        January 23, 2020, 09:55
                        <span class="font-italic grey t-14 px-3">Created by Traveler</span>
                    </div>
                    <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>77
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#6AC259" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Multi-destination trip</span>
                        
                </div>
            </div>
                </div>
                
                <div class="col-lg-3 col-md-12 margin-mob p-0">
                    
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>Start trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Dnipro, Dnipropetrovsk Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Щёлково, Russia</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>February 29, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>17:02 </span>
                        </div>
                    </div>
                    
                    <div class="col-lg-3 col-md-12 margin-mob p-0">
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>End trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Киев, Ukraine</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>March 01, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>04:03</span>
                        </div>
                    </div>
                    
                    <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">1</span>
                    <span class="t-13 row">Received quotes</span>
                </div>
                <div class="t-13 flex justify-content-between">
                    <span class="justify-content-around public-span p-1" id="public_sub5">PUBLIC</span>
                    <div class="center checkbox-block pt-1">
                        <input type="checkbox" checked="" id="cbx_sub5" style="display:none">
                        <label for="cbx_sub5" class="toggle">
                            <span></span>
                        </label>
                        <script>
                            $('#cbx_sub5').click(function () {
                                if ($('#cbx_sub5').is(":checked")){
                                    $('#public_sub5').removeClass('sup');
                                    $('#public_sub5').addClass('public-span');
                                } else {
                                    $('#public_sub5').addClass('sup');
                                    $('#public_sub5').removeClass('public-span');
                                }
                                let data = {
                                    'sub_trip_id': 20200123816,
                                    'public_status': $('#cbx_sub5').is(":checked")
                                };

                                send_post('/traveler/change_sub_trip_status/', data, false, (response)=>{
                                })
                            })
                        </script>
                    </div>
                    <a href="#">What's this?</a>
                </div>
            </div>
                    <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200123816">VIEW QUOTES</button>
                <button class="btn_white mb-0 btn-popup-quote open-popup-request w-100" onclick="open_create_subtrip_popup(20200123816, 20200121807.5)">create sub-version</button>
            </div>
                </div>
                
            </div>
            
            

<div class="col-12 card-trip add-sub flex align-items-center">
    
        <div class="t-14 col-12 p-0 flex justify-content-between">
            <div class="flex">
                <span class="original-trip">Original</span>
                <b class="t-18">Trip: 20200108786 </b>
                January 08, 2020, 09:33
            </div>
            <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>8
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <img src="/static/img-plan.png" class="img-line" alt="line">
                            <span style="font-weight: 600;">One-way trip</span>
                        
                </div>
            </div>
        </div>
        
            <div class="col-lg-6 col-md-12 margin-mob p-0">
                
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>Start trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Dnipro, Dnipropetrovsk Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Kyiv, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>May 05, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>11:28 </span>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>






















            </div>
            <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200108786">VIEW QUOTES</button>
                <button class="btn_white mb-0 open-popup-request w-100" onclick="open_create_subtrip_popup(20200108786, 20200108786)">create sub-version</button>
            </div>
        </div>
        
        <div class="sub-container border-block">
            <span class="font-italic text-secondary-dark">Trip versions</span>
            
            <div class="col-12 card-trip sub-card flex align-items-center">
                <div class="t-14 col-12 p-0 flex justify-content-between">
                    <div class="flex">
                        <span class="version-trip">V-1</span>
                        <b class="t-18">Trip: 20200108786.1 </b>
                        January 08, 2020, 09:52
                        <span class="font-italic grey t-14 px-3">Created by Company</span>
                    </div>
                    <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>8
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Return trip</span>
                        
                </div>
            </div>
                </div>
                
                    <div class="col-lg-6 col-md-12 margin-mob p-0">
                        
                        <div class="col-12 flex p-0">
                            <p class="t-14 m-0"><b>Start trip</b></p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <div class="row vline mr-0"></div>
                            <p class="col pl-1 m-0">
                                <span class="t-14">Dnipro, Dnipropetrovsk Oblast, Ukraine</span>
                            </p>
                        </div>
                        <div class="d-flex p1 pl-3">
                            <p class="col pl-1 m-0">
                                <span class="t-14">Kyiv, Ukraine</span>
                            </p>
                        </div>
                        <div class="flex m-0 date-info">
                            <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                            <span>May 05, 2020 </span>
                            <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                            <span>11:28 </span>
                        </div>
                    </div>
                    
                    <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">1</span>
                    <span class="t-13 row">Received quotes</span>
                </div>
                <div class="t-13 flex justify-content-between">
                    <span class="justify-content-around public-span p-1" id="public_sub1">PUBLIC</span>
                    <div class="center checkbox-block pt-1">
                        <input type="checkbox" checked="" id="cbx_sub1" style="display:none">
                        <label for="cbx_sub1" class="toggle">
                            <span></span>
                        </label>
                        <script>
                            $('#cbx_sub1').click(function () {
                                if ($('#cbx_sub1').is(":checked")){
                                    $('#public_sub1').removeClass('sup');
                                    $('#public_sub1').addClass('public-span');
                                } else {
                                    $('#public_sub1').addClass('sup');
                                    $('#public_sub1').removeClass('public-span');
                                }
                                let data = {
                                    'sub_trip_id': 20200108787,
                                    'public_status': $('#cbx_sub1').is(":checked")
                                };

                                send_post('/traveler/change_sub_trip_status/', data, false, (response)=>{
                                })
                            })
                        </script>
                    </div>
                    <a href="#">What's this?</a>
                </div>
            </div>
                    <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200108787">VIEW QUOTES</button>
                <button class="btn_white mb-0 btn-popup-quote open-popup-request w-100" onclick="open_create_subtrip_popup(20200108787, 20200108786.1)">create sub-version</button>
            </div>
                </div>
                
            </div>
            
            

    <div class="col-12 card-trip without-sub flex align-items-center">
        
        <div class="t-14 col-12 p-0 flex justify-content-between">
            <div class="flex">
                <span class="original-trip">Original</span>
                <b class="t-18">Trip: 20200117806 </b>
                January 17, 2020, 15:10
            </div>
            <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Return trip</span>
                        
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-12 margin-mob p-0">
            
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>Start trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Киев, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>January 30, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>17:09 </span>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-12 margin-mob p-0">
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>End trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Киев, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>January 31, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>16:09</span>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>






















            </div>
            <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200117806">VIEW QUOTES</button>
                <button class="btn_white mb-0 open-popup-request w-100" onclick="open_create_subtrip_popup(20200117806, 20200117806)">create sub-version</button>
            </div>
        </div>
        
            

    <div class="col-12 card-trip without-sub flex align-items-center">
        
        <div class="t-14 col-12 p-0 flex justify-content-between">
            <div class="flex">
                <span class="original-trip">Original</span>
                <b class="t-18">Trip: 20200121808 </b>
                January 21, 2020, 16:15
            </div>
            <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Return trip</span>
                        
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-12 margin-mob p-0">
            
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>Start trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>March 10, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>18:14 </span>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-12 margin-mob p-0">
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>End trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Житомир, Zhytomyr Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>March 11, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>17:13</span>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>






















            </div>
            <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200121808">VIEW QUOTES</button>
                <button class="btn_white mb-0 open-popup-request w-100" onclick="open_create_subtrip_popup(20200121808, 20200121808)">create sub-version</button>
            </div>
        </div>
        
            

    <div class="col-12 card-trip without-sub flex align-items-center">
        
        <div class="t-14 col-12 p-0 flex justify-content-between">
            <div class="flex">
                <span class="original-trip">Original</span>
                <b class="t-18">Trip: 20200121809 </b>
                January 21, 2020, 16:24
            </div>
            <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Return trip</span>
                        
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-12 margin-mob p-0">
            
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>Start trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Бровары, Kyiv Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>March 11, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>18:22 </span>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-12 margin-mob p-0">
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>End trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Бровары, Kyiv Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>March 12, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>17:14</span>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>






















            </div>
            <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200121809">VIEW QUOTES</button>
                <button class="btn_white mb-0 open-popup-request w-100" onclick="open_create_subtrip_popup(20200121809, 20200121809)">create sub-version</button>
            </div>
        </div>
        
            

    <div class="col-12 card-trip without-sub flex align-items-center">
        
        <div class="t-14 col-12 p-0 flex justify-content-between">
            <div class="flex">
                <span class="original-trip">Original</span>
                <b class="t-18">Trip: 20200122810 </b>
                January 22, 2020, 09:15
            </div>
            <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Return trip</span>
                        
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-12 margin-mob p-0">
            
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>Start trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Припять, Kyiv Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>May 22, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>11:14 </span>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-12 margin-mob p-0">
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>End trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Припять, Kyiv Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>May 23, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>10:03</span>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>






















            </div>
            <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200122810">VIEW QUOTES</button>
                <button class="btn_white mb-0 open-popup-request w-100" onclick="open_create_subtrip_popup(20200122810, 20200122810)">create sub-version</button>
            </div>
        </div>
        
            

    <div class="col-12 card-trip without-sub flex align-items-center">
        
        <div class="t-14 col-12 p-0 flex justify-content-between">
            <div class="flex">
                <span class="original-trip">Original</span>
                <b class="t-18">Trip: 20200122811 </b>
                January 22, 2020, 09:31
            </div>
            <div class="flex">
                <div class="flex group-size ">
                    <span style="font-weight: 600;">Group size:</span>1
                </div>
                <div class="flex justify-content-end px-3">
                        
                            <svg width="30" height="8" viewBox="0 0 30 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 1C5.65685 1 7 2.34315 7 4C7 5.65685 5.65685 7 4 7C2.34315 7 1 5.65685 1 4C1 2.34315 2.34315 1 4 1Z" stroke="#61C9F6" stroke-width="2"></path>
                                <rect x="8" y="5" width="2" height="16" transform="rotate(-90 8 5)" fill="#61C9F6"></rect>
                                <path d="M15 1C16.6569 1 18 2.34315 18 4C18 5.65685 16.6569 7 15 7C13.3431 7 12 5.65685 12 4C12 2.34315 13.3431 1 15 1Z" fill="white" stroke="#FA903F" stroke-width="2"></path>
                                <path d="M26 1C27.6569 1 29 2.34315 29 4C29 5.65685 27.6569 7 26 7C24.3431 7 23 5.65685 23 4C23 2.34315 24.3431 1 26 1Z" stroke="#6AC259" stroke-width="2"></path>
                            </svg>
                            <span style="font-weight: 600;" class="px-2">Multi-destination trip</span>
                        
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-12 margin-mob p-0">
            
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>Start trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Днепр, Dnipropetrovsk Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Запорожье, Zaporizhia Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>May 21, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>10:28 </span>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-12 margin-mob p-0">
                <div class="col-12 flex p-0">
                    <p class="t-14 m-0"><b>End trip</b></p>
                </div>
                <div class="d-flex p1 pl-3">
                    <div class="row vline mr-0"></div>
                    <p class="col pl-1 m-0">
                        <span class="t-14">Киев, Ukraine</span>
                    </p>
                </div>
                <div class="d-flex p1 pl-3">
                    <p class="col pl-1 m-0">
                        <span class="t-14">Днепр, Dnipropetrovsk Oblast, Ukraine</span>
                    </p>
                </div>
                <div class="flex m-0 date-info">
                    <img src="/static/calendar.png" style="width: 17px;" alt="calendar">
                    <span>May 21, 2020 </span>
                    <img src="/static/clock-outline.png" style="width: 17px;" alt="clock">
                    <span>11:29</span>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-12 margin-mob p-0 flex column justify-content-lg-between ui-sortable">
                <div class="received px-5">
                    <span class="t-33">0</span>
                    <span class="t-13 row">Received quotes</span>
                </div>






















            </div>
            <div class="col-lg-3 col-md-12 flex">
                <button class="btn-lg btn-success text-uppercase font-bold w-100" href="/en/traveler/compare_booking/20200122811">VIEW QUOTES</button>
                <button class="btn_white mb-0 open-popup-request w-100" onclick="open_create_subtrip_popup(20200122811, 20200122811)">create sub-version</button>
            </div>
        </div>
        
            
            <div class="request-edit">
                <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="/static/js/bootstrap-datetimepicker.min.js"></script>

<!-- <link rel="stylesheet" href="/static/css/bootstrap-datetimepicker.min.css">
<script src="/static/js/bootstrap-datetimepicker.min.js"></script>
 -->


<div class="travel hide w-100 edit-trip">
    <div class="edit-trip__container">
        <div class="flex header-block">
              <h2>Additional details</h2>
              <img src="/static/close.png" alt="close" class="close">
        </div>
        <hr class="edit-trip__line">
        <div class="group-info">
            <div class="flex">
                <p class="m-0 group-info__title"><b>Group size<span class="text-danger">*</span></b></p>
                <input id="groupSizePopup" class="form-control group-info__input--small" type="number">
            </div>
            <div class="flex about-group">
                <p class="m-0 group-info__title"><b>About the group<span class="text-danger">*</span></b></p>
                <textarea id="detailsPopup" class="form-control group-info__input" cols="30" rows="2"></textarea>
            </div>
        </div>
  
  
  
  
  
  
  
  
  

        <div id="main_block_multi"></div>

        <div class="edit-trip__footer-block mt-4">
            <div class="spline pr-5">
                <button class="add-destination" onclick="add_part(this)">+ Add destination</button>
            </div>
            <hr class="footer-block__line">
            <p class="t-14 font-bold mb-0">Select trip request visibility</p>
            <div class="d-flex mt-3">
                <label class="option-label" for="option-radio1">
                    <input type="radio" id="option-radio1" name="option-radio" class="option-input" checked="checked" value="1">
                    <span class="checkmark"></span>
                    <div>
                        <button class="option-limited">limited</button>
                        <p class="mb-0">Only bus companies that have quoted me</p>
                    </div>
                </label>
                <label class="option-label" for="option-radio2">
                    <input type="radio" id="option-radio2" name="option-radio" class="option-input" value="2">
                    <span class="checkmark"></span>
                    <div>
                        <button class="option-public">public</button>
                        <p class="mb-0">Show trip to all bus companies</p>
                    </div>
                </label>

            </div>
            <hr class="footer-block__line">
            <div class="justify-content-end flex pt-3 pr-4">
                <button id="update_plan" class="btn btn-success text-uppercase font-bold">
                    UPDATE TRAVEL PLAN
                </button>
            </div>

        </div>
    </div>
</div>
<script>
    $('.close').click(function () {
        $('#main_block_multi').empty()
    });

    $(".column").sortable({
        connectWith: ".column",
        handle: ".portlet-header",
        cancel: ".portlet-toggle",
        placeholder: "portlet-placeholder ui-corner-all"
    });

    $(".portlet")
    .addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all")
    .find(".portlet-header")
    .addClass("ui-widget-header ui-corner-all")
    .prepend("<span class='ui-icon ui-icon-minusthick portlet-toggle'></span>");

    $(".portlet-toggle").on("click", function() {
        var icon = $(this);
        icon.toggleClass("ui-icon-minusthick ui-icon-plusthick");
        icon.closest(".portlet").find(".portlet-content").toggle();
    });

    

    function set_first_trash() {
        let firstElement = $(`.main-trip`)[0];
        if ($(`.main-trip`).length > 1) {
            $(firstElement).find('.delete-main').removeClass('d-none');
        } else {
            $(firstElement).find('.delete-main').addClass('d-none');
        }
    }

    function delete_step(id) {
        $(`#trip${id}`).remove();
        set_first_trash();
        let array = $(".main-trip");
        for (let i=0; i < array.length; i++) {
            array[i].setAttribute("index", i);
        }
        let nextIndex = array.length - 1;
        $(`.add-destination`).attr('index', nextIndex);
    }

    function add_part(elButton) {
        let subs_length = $(`.main-trip`).length+1;
        let transfers = `<option selected="selected" value=""></option>`;
        for(let i = 0; i < services.length; i++){
                transfers += `<option time="${services[i].time}" value="${services[i].id}">${services[i].translations__name}</option>`
        }
        let indexButton = $(elButton).attr('index');
        let nextIndex = parseInt(indexButton) + 1;
        $(elButton).attr('index', nextIndex);
        rebuildIndexes(nextIndex);
        let parent = $("#main_block_multi");
        let html = `<form id="trip${subs_length}" class="last-tab main-trip portlet one-route" index="${nextIndex}">
                    <div class="portlet-header"></div>
                    <div class="row portlet-content">
                        <div class="col-12 row first-row">
                            <div class="m-block">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">From</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="from${subs_length}" class="rounded form-control from-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="from">
                                    </div>
                                </div>
                            </div>
                            <div class="multi-to">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">To</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="to${subs_length}" class="rounded form-control to-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="to">
                                    </div>
                                </div>
                            </div>
                            <div class="t-14 font-bold pl-lg-3">
                                <p class="t-14 m-0 one-route__text">Departure date</p>
                                <div class="input-group mb-3">
                                    <input type="date" id="from_date${subs_length}" class="form-control from_date-multi departure" aria-describedby="basic-addon1">
                                </div>
                            </div>
                            <div class="t-14 font-bold col-lg-2 mob-width-date">
                                <p class="t-14 m-0 one-route__text">Departure time:</p>
                                <div class="d-flex form-control justify-content-between">
                                    <input id="from_time-hour${subs_length}" class="datetimepicker from_time-multi" placeholder="00:00">
                                    <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourFromChecked${subs_length}" class="checkbox"><input id="tourFromChecked${subs_length}" class="check" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addFirstTour${subs_length}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="from-select${subs_length}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-starts-hour${subs_length}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-ends-hour${subs_length}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourToChecked${subs_length}" class="checkbox"><input id="tourToChecked${subs_length}" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addSecondTour${subs_length}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="to-select${subs_length}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-starts-hour${subs_length}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-ends-hour${subs_length}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="justify-content-center add-block">
                        <button type="button" class="btn button_off" index="${nextIndex}">
                            <i class="fas fa-plus" ></i>
                        </button>
                    </div>
                    <div>
                        <button class="btn btn-outline-danger position_corner delete-main" id="delete_step_${subs_length}" onclick="delete_step(${subs_length})">
                            <i class="far fa-trash-alt"></i>
                        </button>
                    </div>
                </form>`;

        $(html).appendTo(parent);
        set_first_trash();
        let prev_to = $(`#trip${subs_length}`).prev().find("input[name='to']").val();
        $(`#from${subs_length}`).val(prev_to);
        $('.add-block').show();
        validDate(`from_date${subs_length}`);
        setDate();
        $('input[class*=autocomplete-added]').on('input', function () {
            if (this.value.length !== 0) {
                send_post("/autocomplete/", {'text': this.value}, false, (response) => {
                    autocomplete(document.getElementById(this.id), response.data);
                });
            }
        });

        $("select[class*='tour-select']").change(function () {
            if ($(this).parents('.toggle-transfer').find('.from-time').val()  &&  $(this).children("option:selected").val()) {
                calculate_end_time(this);
            }
        });

        $(".from-time").blur(function () {
            if ($(this).parents('.toggle-transfer').find('.tour-select').children("option:selected").val() && $(this).val()) {
                calculate_end_time($(this).parents('.transfer-container').find('.tour-select')[0]);
            }
        });

        $(function () {
            $('.datetimepicker').datetimepicker({
                format: "HH:mm"
            });
        });
    }


    $("#main_block_multi").on("click", ".add-block", function () {
        let subs_length = $(`.main-trip`).length+1;
        let transfers = `<option selected="selected" value=""></option>`;
        for(let i = 0; i < services.length; i++){
                transfers += `<option time="${services[i].time}" value="${services[i].id}">${services[i].translations__name}</option>`
        }
        let indexButton = $(this).find(`.button_off`).attr('index');
        let rows = $('.main-trip');
        let prevTrip = searchTripByIndex(rows, indexButton);
        let nextIndex = parseInt(indexButton) + 1;
        $('.add-destination').attr('index', rows.length);
        rebuildIndexes(nextIndex);
        let html = `
                <form id="trip${subs_length}" class="last-tab main-trip portlet one-route" index="${nextIndex}">
                    <div class="portlet-header"></div>
                    <div class="row portlet-content">
                        <div class="col-12 row first-row">
                            <div class="m-block">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">From</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="from${subs_length}" class="rounded form-control from-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="from">
                                    </div>
                                </div>
                            </div>
                            <div class="multi-to">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">To</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="to${subs_length}" class="rounded form-control to-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="to">
                                    </div>
                                </div>
                            </div>
                            <div class="t-14 font-bold pl-lg-3">
                                <p class="t-14 m-0 one-route__text">Departure date</p>
                                <div class="input-group mb-3">
                                    <input type="date" id="from_date${subs_length}" class="form-control from_date-multi departure" aria-describedby="basic-addon1">
                                </div>
                            </div>
                            <div class="t-14 font-bold col-lg-2 mob-width-date">
                                <p class="t-14 m-0 one-route__text">Departure time:</p>
                                <div class="d-flex form-control justify-content-between">
                                    <input id="from_time-hour${subs_length}" class="datetimepicker from_time-multi" placeholder="00:00">
                                    <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourFromChecked${subs_length}" class="checkbox"><input id="tourFromChecked${subs_length}" class="check" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addFirstTour${subs_length}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="from-select${subs_length}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-starts-hour${subs_length}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-ends-hour${subs_length}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourToChecked${subs_length}" class="checkbox"><input id="tourToChecked${subs_length}" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addSecondTour${subs_length}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="to-select${subs_length}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-starts-hour${subs_length}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-ends-hour${subs_length}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="justify-content-center add-block">
                        <button type="button" class="btn button_off" index="${nextIndex}">
                            <i class="fas fa-plus" ></i>
                        </button>
                    </div>
                    <div>
                        <button class="btn btn-outline-danger position_corner delete-main" id="delete_step_${subs_length}" onclick="delete_step(${subs_length})">
                            <i class="far fa-trash-alt"></i>
                        </button>
                    </div>
                </form>`;

        $(prevTrip).after(html);
        set_first_trash();
        let prev_to = $(`#trip${subs_length}`).prev().find("input[name='to']").val();
        let last_trip_second = $(`#trip${subs_length}`).next().find("input[name='from']").val();
        last_trip_second = (last_trip_second == undefined) ? "" : last_trip_second;
        $(`#from${subs_length}`).val(prev_to);
        $(`#to${subs_length}`).val(last_trip_second);
        $('.add-block').show();
        validDate(`from_date${subs_length}`);
        setDate();
        $('input[class*=autocomplete-added]').on('input', function () {
            if (this.value.length !== 0) {
                send_post("/autocomplete/", {'text': this.value}, false, (response) => {
                    autocomplete(document.getElementById(this.id), response.data);
                });
            }
        });

        $("select [class*='tour-select']").change(function () {
            if ($(this).parents('.toggle-transfer').find('.from-time').val() &&  $(this).children("option:selected").val()) {
                calculate_end_time(this);
            }
        });

        $(".from-time").blur(function () {
            if ($(this).parents('.toggle-transfer').find('.tour-select').children("option:selected").val() &&  $(this).val()) {
                calculate_end_time($(this).parents('.transfer-container').find('.tour-select')[0]);
            }
        });

        $(function () {
            $('.datetimepicker').datetimepicker({
                format: "HH:mm"
            });
        });
    });


    $(`input[class*='autocomplete-added']`).on('input', function () {
        if (this.value.length !== 0) {
            send_post("/autocomplete/", {'text': this.value}, false, (response) => {
                autocomplete(document.getElementById(this.id), response.data);
            });
        }
    });
    function searchTripByIndex(rows, index) {
                return $(".main-trip").filter(function() {
                    return $(this).attr("index") === index;
                }).get(0);
            }
    function rebuildIndexes(nextIndex) {
                let newNextIndex = nextIndex;
                $(".main-trip").filter(function() {
                    return $(this).attr("index") >= nextIndex;
                }).each(function() {
                    newNextIndex = newNextIndex + 1;
                    $(this).attr("index",newNextIndex);
                })
            }

    function get_trip_type() {
        let routesNumber = $(`.main-trip`).length;
        let firstFrom = $(`[name="from"]`).first().val();
        let lastEnd = $(`[name="to"]`).last().val();

        if (routesNumber===1){return 1;}
        else if (routesNumber===2 && firstFrom===lastEnd) {return 2;}
        else {return 3;}
    }

    $('#update_plan').click(
    function () {
        let routesLength = $('.main-trip').length;
        let passengers = $(`#groupSizePopup`).val();
        let details = $('#detailsPopup').val();

        let trip_type = get_trip_type();
        if (passengers && details) {
            let data = {
                'trip_id': $(this).attr('trip_id'),
                'routes': [],
                'unique_name': null,
                'type': trip_type,
                'prev_id': $(this).attr('prev_id'),
                'is_public': $('#option-radio2').is(':checked'),
                'passengers': passengers,
                'details': details,
            };
            for (let i = 0; i < routesLength; i++) {
                let index = $(`.main-trip[index*=${i}]`).attr('id').replace('trip','');
                if ($(`#to${index}`).val()) {
                    let point_1_loco = $(`#from-select${index}`).val() ?  $(`#from-select${index}`).val() : '';
                    let point_2_loco = $(`#to-select${index}`).val() ? $(`#to-select${index}`).val() : '';

                    let fromTimeStarts = $(`#from_time-starts-hour${index}`).val() ? $(`#from_time-starts-hour${index}`).val() : '';
                    let fromTimeEnds = $(`#from_time-ends-hour${index}`).val() ? $(`#from_time-ends-hour${index}`).val() : '';
                    let toTimeStarts = $(`#to_time-starts-hour${index}`).val() ? $(`#to_time-starts-hour${index}`).val() : '';
                    let toTimeEnds = $(`#to_time-ends-hour${index}`).val() ? $(`#to_time-ends-hour${index}`).val() : '';

                    data['routes'].push({
                        'point_1': $(`#from${index}`).val(),
                        'point_2':  $(`#to${index}`).val(),
                        'point_1_loco': point_1_loco,
                        'point_2_loco': point_2_loco,
                        'date': $(`#from_date${index}`).val(),
                        'time': $(`#from_time-hour${index}`).val(),
                        'fromTimeStarts': fromTimeStarts,
                        'fromTimeEnds': fromTimeEnds,
                        'toTimeStarts': toTimeStarts,
                        'toTimeEnds': toTimeEnds,
                    });
                }
            };
            send_post("/traveler/create_sub_trip/", data, true, (response) => {
                    if (response.status === 1) window.location.href = `/en/get-transport-quote/details/${response.trip_id}`;
                else if (response.status === -1) error_alert(response.message);
             });
        }
    });

</script>
<style>
    .portlet {
      margin: 0 1em 1em 0;
      padding: 0.3em;
    }

    .portlet-header {
        right: 0px;
        height: 160px;
        z-index: 999999;
      padding: 0.5em 0.5em;
      margin-right: 0.5em;
      position: absolute;
    }

    .portlet-toggle {
      position: absolute;
      top: 50%;
      right: 0;
      margin-top: -8px;
    }

    .portlet-content {
      padding: 0.4em;
    }

    .portlet-placeholder {

      border: 1px dotted black;
      margin: 0 1em 1em 0;
      height: 160px;

    }


</style>

            </div>
            <script>
    $('.btn-lg').click(function () {
        window.location.href = $(this).attr('href');
    });

    var services = [];
    function open_create_subtrip_popup (trip_id, sub_trip_id) {
        $('body').addClass('shadow-popup');
        $('.request-edit .hide.edit-trip').addClass('is-open');
        let data = {
            'trip_id': trip_id
        };

        $('#update_plan').attr('trip_id', trip_id);
        $('#update_plan').attr('prev_id', sub_trip_id);
        send_post('/get_trip_data/', data, false, (response)=>{
            if(response.status === 1){
                services = (response.data.services);
                $('#groupSizePopup').val(response.data.routes[0].passengers);
                $('#detailsPopup').val(response.data.trip.group_descr);
                let transfers = `<option selected="selected" value=""></option>`;
                for(let i = 0; i < response.data.services.length; i++){
                        transfers += `<option time="${response.data.services[i].time}" value="${response.data.services[i].id}">${response.data.services[i].translations__name}</option>`
                }
                for(let i = 0; i < response.data.routes.length; i++){
                    $('.add-destination').attr('index',  i);
                    let route = response.data.routes[i];
                    let date = moment(route.date).format('YYYY-MM-DD');
                    let time = moment(route.date).format('HH:MM');
                    let html = `<form id="trip${i}" class="last-tab main-trip portlet one-route" index="${i}">
                    <div class="portlet-header"></div>
                    <div class="row portlet-content">
                        <div class="col-12 row first-row">
                            <div class="m-block">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">From</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="from${i}" class="rounded form-control from-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="from" value="${route.from_point_name}">
                                    </div>
                                </div>
                            </div>
                            <div class="multi-to">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">To</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="to${i}" class="rounded form-control to-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="to" value="${route.to_point_name}">
                                    </div>
                                </div>
                            </div>
                            <div class="t-14 font-bold pl-lg-3">
                                <p class="t-14 m-0 one-route__text">Departure date</p>
                                <div class="input-group mb-3">
                                    <input type="date" id="from_date${i}" class="form-control from_date-multi departure" aria-describedby="basic-addon1" value="${date}">
                                </div>
                            </div>
                            <div class="t-14 font-bold col-lg-2 mob-width-date">
                                <p class="t-14 m-0 one-route__text">Departure time:</p>
                                <div class="d-flex form-control justify-content-between">
                                    <input id="from_time-hour${i}" class="datetimepicker from_time-multi" placeholder="00:00" value="${time}">
                                    <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourFromChecked${i}" class="checkbox"><input id="tourFromChecked${i}" class="check" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addFirstTour${i}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="from-select${i}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-starts-hour${i}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-ends-hour${i}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourToChecked${i}" class="checkbox"><input id="tourToChecked${i}" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addSecondTour${i}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="to-select${i}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-starts-hour${i}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-ends-hour${i}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="justify-content-center add-block">
                        <button type="button" class="btn button_off" index="${i}">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div>
                        <button class="btn btn-outline-danger position_corner delete-main" id="delete_step_${i}" onclick="delete_step(${i})">
                            <i class="far fa-trash-alt"></i>
                        </button>
                    </div>
                </form>`;
                    $('#main_block_multi').append(html);

                    validDate(`from_date${i}`);
                    setDate();

                    if (route.from_service !== undefined && route.from_service !== '' && route.from_service !== null) {
                        $(`input[id*='tourFromChecked${i}']`).trigger('click');
                        $(`input[id*='tourFromChecked${i}']`).parent().parent().toggleClass('is-checked');
                        $('#from-select'+i+" option").filter(function() {
                            return $(this).text() == `${route.from_service}`;
                        }).prop("selected", true);
                        $('#from_time-starts-hour'+i).val(route.from_service_time);
                        if (route.from_service_time !== '') {calculate_end_time($(`#from-select${i}`));}
                    }
                    if (route.to_service !== undefined && route.to_service !== '' && route.to_service !== null) {
                        $(`input[id*='tourToChecked${i}']`).trigger('click');
                        $(`input[id*='tourToChecked${i}']`).parent().parent().toggleClass('is-checked');
                        $('#to-select'+i+" option").filter(function() {
                            return $(this).text() == `${route.to_service}`;
                        }).prop("selected", true);
                        $('#to_time-starts-hour'+i).val(route.to_service_time);
                        if (route.to_service_time !== '') {calculate_end_time($('#to-select'+i));}
                    }
                }
                if ($(`.main-trip`).length === 1) {$(`.main-trip`).find('.delete-main').addClass('d-none')}
                $('input[type=text]').on('input', function () {
                    if (this.value.length !== 0) {
                        send_post("/autocomplete/", {'text': this.value}, false, (response) => {
                            autocomplete(document.getElementById(this.id), response.data);
                        });
                    }
                });

                $("select[class*='tour-select']").change(function () {
                    if ($(this).parents('.toggle-transfer').find('.from-time').val() &&  $(this).children("option:selected").val()) {
                        calculate_end_time(this);
                    }
                });

                $(".from-time").blur(function () {
                    if ($(this).parents('.toggle-transfer').find('.tour-select').children("option:selected").val()&&  $(this).val()) {
                        calculate_end_time($(this).parents('.transfer-container').find('.tour-select')[0]);
                    }
                });

                $('body').on( 'click' , '.transfer input[type="checkbox"]', function() {
                    $(this).parent().parent().toggleClass('is-checked');
                });

                // let input_type_text = $('input[class*=autocomplete-added]');
                // input_type_text.on('input', function () {
                //     if (get_trip_type() === 1) {
                //         $('#from_disabled').val($('#to').val());
                //         $('#to_disabled').val($('#from').val());
                //     }
                //     if (this.value.length !== 0) {
                //         send_post("/autocomplete/", {'text': this.value}, spin_off = false, (response) => {
                //             autocomplete(document.getElementById(this.id), response.data);
                //         });
                //     }
                // });


            }
        });

        $('body').on( 'click', '.datetimepicker', function(){
            $('.datetimepicker').datetimepicker({
                format: "HH:mm"
            });
        });
    }


</script>

            </div>
            <div class="tab-pane" id="my_messages_tab" role="tabpanel" aria-labelledby="my_messages">
                <h1 class="active-profile-name col-12">Account Settings</h1>
                <div class="bg-white p-3 d-flex col-12">
                    <div class="col-lg-9 col-md-12 p-0 pad-right">
                        <div class="tab-content" id="nav-tabContent">
                            <div class="tab-pane fade show active" id="list-contact_details" role="tabpanel" aria-labelledby="list-contact_details-list">
                                <div class="accordion" id="profile_navigation" name="Account settings">
    <div class="pb-4">
        <span>On this page you can edit your contact details. To change your e-mail address or password you can use the links in the column on the right side of this page. To post a new request for quotation you can use the link ‘Travel Plan – Request Quote’ in the horizontal blue bar in the top of this page.</span>
    </div>

    <div id="collapse_company1" class="account-settings collapse show border-bottom border-top pt-3 pb-2" aria-labelledby="heading_company1" data-parent="#profile_navigation">
            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        <div id="" style="" class="">
    <div class="col p-0 font-bold t-14">
        <span class="t-14 ">First Name <span class="text-danger">*</span></span>
        <div class="input-group mb-3 ">
            
                <input type="text" name="" class="rounded form-control required_contact_details required " placeholder="" id="first_name" value="Lesha" required="">
            
            <small class="form-text text-muted"></small>
        </div>
    </div>
</div>

                    </div>
                    <div class="col-sm">
                        <div id="" style="" class="">
    <div class="col p-0 font-bold t-14">
        <span class="t-14 ">Last Name <span class="text-danger">*</span></span>
        <div class="input-group mb-3 ">
            
                <input type="text" name="" class="rounded form-control required_contact_details required " placeholder="" id="last_name" value="Afternoon" required="">
            
            <small class="form-text text-muted"></small>
        </div>
    </div>
</div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-sm">
                        <div id="" style="" class="">
    <div class="col p-0 font-bold t-14">
        <span class="t-14 ">Address <span class="text-danger">*</span></span>
        <div class="input-group mb-3 ">
            
                <input type="text" name="" class="rounded form-control required_contact_details required " placeholder="" id="address" value="1231231das" required="">
            
            <small class="form-text text-muted"></small>
        </div>
    </div>
</div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <div id="" style="" class="">
    <div class="col p-0 font-bold t-14">
        <span class="t-14 ">City<span class="text-danger">*</span></span>
        <div class="input-group mb-3 ">
            
                <input type="text" name="" class="rounded form-control required_contact_details required " placeholder="" id="city" value="fvsdgd" required="">
            
            <small class="form-text text-muted"></small>
        </div>
    </div>
</div>

                    </div>
                    <div class="col-2">
                        <div id="" style="" class="">
    <div class="col p-0 font-bold t-14">
        <span class="t-14 ">Zip Code<span class="text-danger">*</span></span>
        <div class="input-group mb-3 ">
            
                <input type="text" name="" class="rounded form-control required_contact_details required " placeholder="" id="zip_code" value="232esq" required="">
            
            <small class="form-text text-muted"></small>
        </div>
    </div>
</div>

                    </div>
                    <div class="col-sm">
                        <div class="p-0 t-14">
    <span class="t-14 m-0 font-bold ">Country<span class="text-danger">*</span></span>
    <select class="browser-default custom-select form-control " id="user_country" required="">
        
            <option value="1">Afghanistan</option>
        
            <option value="2">Albania</option>
        
            <option value="3">Algeria</option>
        
            <option value="4">American Samoa</option>
        
            <option value="5">Andorra</option>
        
            <option value="6">Angola</option>
        
            <option value="7">Anguilla</option>
        
            <option value="8">Antarctica</option>
        
            <option value="9">Antigua and Barbuda</option>
        
            <option value="10">Argentina</option>
        
            <option value="11">Armenia</option>
        
            <option value="12">Aruba</option>
        
            <option value="13">Australia</option>
        
            <option value="14">Austria</option>
        
            <option value="15">Azerbaijan</option>
        
            <option value="16">Bahamas</option>
        
            <option value="17">Bahrain</option>
        
            <option value="18">Bangladesh</option>
        
            <option value="19">Barbados</option>
        
            <option value="20">Belarus</option>
        
            <option value="21">Belgium</option>
        
            <option value="22">Belize</option>
        
            <option value="23">Benin</option>
        
            <option value="24">Bermuda</option>
        
            <option value="25">Bhutan</option>
        
            <option value="26">Bolivia</option>
        
            <option value="27">Bosnia and Herzegovina</option>
        
            <option value="28">Botswana</option>
        
            <option value="29">Bouvet Island</option>
        
            <option value="30">Brazil</option>
        
            <option value="31">British Indian Ocean Territory</option>
        
            <option value="32">Brunei Darussalam</option>
        
            <option value="33">Bulgaria</option>
        
            <option value="34">Burkina Faso</option>
        
            <option value="35">Burundi</option>
        
            <option value="36">Cambodia</option>
        
            <option value="37">Cameroon</option>
        
            <option value="38">Canada</option>
        
            <option value="39">Cape Verde</option>
        
            <option value="40">Cayman Islands</option>
        
            <option value="41">Central African Republic</option>
        
            <option value="42">Chad</option>
        
            <option value="43">Chile</option>
        
            <option value="44">China</option>
        
            <option value="45">Christmas Island</option>
        
            <option value="46">Cocos (Keeling) Islands</option>
        
            <option value="47">Colombia</option>
        
            <option value="48">Comoros</option>
        
            <option value="49">Congo</option>
        
            <option value="50">Congo, the Democratic Republic of the</option>
        
            <option value="51">Cook Islands</option>
        
            <option value="52">Costa Rica</option>
        
            <option value="53">Cote D'Ivoire</option>
        
            <option value="54">Croatia</option>
        
            <option value="55">Cuba</option>
        
            <option value="56">Cyprus</option>
        
            <option value="57">Czech Republic</option>
        
            <option value="58">Denmark</option>
        
            <option value="59">Djibouti</option>
        
            <option value="60">Dominica</option>
        
            <option value="61">Dominican Republic</option>
        
            <option value="62">Ecuador</option>
        
            <option value="63">Egypt</option>
        
            <option value="64">El Salvador</option>
        
            <option value="65">Equatorial Guinea</option>
        
            <option value="66">Eritrea</option>
        
            <option value="67">Estonia</option>
        
            <option value="68">Ethiopia</option>
        
            <option value="69">Falkland Islands (Malvinas)</option>
        
            <option value="70">Faroe Islands</option>
        
            <option value="71">Fiji</option>
        
            <option value="72">Finland</option>
        
            <option value="73">France</option>
        
            <option value="74">French Guiana</option>
        
            <option value="75">French Polynesia</option>
        
            <option value="76">French Southern Territories</option>
        
            <option value="77">Gabon</option>
        
            <option value="78">Gambia</option>
        
            <option value="79">Georgia</option>
        
            <option value="80">Germany</option>
        
            <option value="81">Ghana</option>
        
            <option value="82">Gibraltar</option>
        
            <option value="83">Greece</option>
        
            <option value="84">Greenland</option>
        
            <option value="85">Grenada</option>
        
            <option value="86">Guadeloupe</option>
        
            <option value="87">Guam</option>
        
            <option value="88">Guatemala</option>
        
            <option value="89">Guinea</option>
        
            <option value="90">Guinea-Bissau</option>
        
            <option value="91">Guyana</option>
        
            <option value="92">Haiti</option>
        
            <option value="93">Heard Island and Mcdonald Islands</option>
        
            <option value="94">Holy See (Vatican City State)</option>
        
            <option value="95">Honduras</option>
        
            <option value="96">Hong Kong</option>
        
            <option value="97">Hungary</option>
        
            <option value="98">Iceland</option>
        
            <option value="99">India</option>
        
            <option value="100">Indonesia</option>
        
            <option value="101">Iran, Islamic Republic of</option>
        
            <option value="102">Iraq</option>
        
            <option value="103">Ireland</option>
        
            <option value="104">Israel</option>
        
            <option value="105">Italy</option>
        
            <option value="106">Jamaica</option>
        
            <option value="107">Japan</option>
        
            <option value="108">Jordan</option>
        
            <option value="109">Kazakhstan</option>
        
            <option value="110">Kenya</option>
        
            <option value="111">Kiribati</option>
        
            <option value="112">Korea, Democratic People's Republic of</option>
        
            <option value="113">Korea, Republic of</option>
        
            <option value="114">Kuwait</option>
        
            <option value="115">Kyrgyzstan</option>
        
            <option value="116">Lao People's Democratic Republic</option>
        
            <option value="117">Latvia</option>
        
            <option value="118">Lebanon</option>
        
            <option value="119">Lesotho</option>
        
            <option value="120">Liberia</option>
        
            <option value="121">Libyan Arab Jamahiriya</option>
        
            <option value="122">Liechtenstein</option>
        
            <option value="123">Lithuania</option>
        
            <option value="124">Luxembourg</option>
        
            <option value="125">Macao</option>
        
            <option value="126">Macedonia, the Former Yugoslav Republic of</option>
        
            <option value="127">Madagascar</option>
        
            <option value="128">Malawi</option>
        
            <option value="129">Malaysia</option>
        
            <option value="130">Maldives</option>
        
            <option value="131">Mali</option>
        
            <option value="132">Malta</option>
        
            <option value="133">Marshall Islands</option>
        
            <option value="134">Martinique</option>
        
            <option value="135">Mauritania</option>
        
            <option value="136">Mauritius</option>
        
            <option value="137">Mayotte</option>
        
            <option value="138">Mexico</option>
        
            <option value="139">Micronesia, Federated States of</option>
        
            <option value="140">Moldova, Republic of</option>
        
            <option value="141">Monaco</option>
        
            <option value="142">Mongolia</option>
        
            <option value="143">Montserrat</option>
        
            <option value="144">Morocco</option>
        
            <option value="145">Mozambique</option>
        
            <option value="146">Myanmar</option>
        
            <option value="147">Namibia</option>
        
            <option value="148">Nauru</option>
        
            <option value="149">Nepal</option>
        
            <option value="150">Netherlands</option>
        
            <option value="151">Netherlands Antilles</option>
        
            <option value="152">New Caledonia</option>
        
            <option value="153">New Zealand</option>
        
            <option value="154">Nicaragua</option>
        
            <option value="155">Niger</option>
        
            <option value="156">Nigeria</option>
        
            <option value="157">Niue</option>
        
            <option value="158">Norfolk Island</option>
        
            <option value="159">Northern Mariana Islands</option>
        
            <option value="160">Norway</option>
        
            <option value="161">Oman</option>
        
            <option value="162">Pakistan</option>
        
            <option value="163">Palau</option>
        
            <option value="164">Palestinian Territory, Occupied</option>
        
            <option value="165">Panama</option>
        
            <option value="166">Papua New Guinea</option>
        
            <option value="167">Paraguay</option>
        
            <option value="168">Peru</option>
        
            <option value="169">Philippines</option>
        
            <option value="170">Pitcairn</option>
        
            <option value="171">Poland</option>
        
            <option value="172">Portugal</option>
        
            <option value="173">Puerto Rico</option>
        
            <option value="174">Qatar</option>
        
            <option value="175">Reunion</option>
        
            <option value="176">Romania</option>
        
            <option value="177">Russian Federation</option>
        
            <option value="178">Rwanda</option>
        
            <option value="179">Saint Helena</option>
        
            <option value="180">Saint Kitts and Nevis</option>
        
            <option value="181">Saint Lucia</option>
        
            <option value="182">Saint Pierre and Miquelon</option>
        
            <option value="183">Saint Vincent and the Grenadines</option>
        
            <option value="184">Samoa</option>
        
            <option value="185">San Marino</option>
        
            <option value="186">Sao Tome and Principe</option>
        
            <option value="187">Saudi Arabia</option>
        
            <option value="188">Senegal</option>
        
            <option value="189">Serbia and Montenegro</option>
        
            <option value="190">Seychelles</option>
        
            <option value="191">Sierra Leone</option>
        
            <option value="192">Singapore</option>
        
            <option value="193">Slovakia</option>
        
            <option value="194">Slovenia</option>
        
            <option value="195">Solomon Islands</option>
        
            <option value="196">Somalia</option>
        
            <option value="197">South Africa</option>
        
            <option value="198">South Georgia and the South Sandwich Islands</option>
        
            <option value="199">Spain</option>
        
            <option value="200">Sri Lanka</option>
        
            <option value="201">Sudan</option>
        
            <option value="202">Suriname</option>
        
            <option value="203">Svalbard and Jan Mayen</option>
        
            <option value="204">Swaziland</option>
        
            <option value="205">Sweden</option>
        
            <option value="206">Switzerland</option>
        
            <option value="207">Syrian Arab Republic</option>
        
            <option value="208">Taiwan, Province of China</option>
        
            <option value="209">Tajikistan</option>
        
            <option value="210">Tanzania, United Republic of</option>
        
            <option value="211">Thailand</option>
        
            <option value="212">Timor-Leste</option>
        
            <option value="213">Togo</option>
        
            <option value="214">Tokelau</option>
        
            <option value="215">Tonga</option>
        
            <option value="216">Trinidad and Tobago</option>
        
            <option value="217">Tunisia</option>
        
            <option value="218">Turkey</option>
        
            <option value="219">Turkmenistan</option>
        
            <option value="220">Turks and Caicos Islands</option>
        
            <option value="221">Tuvalu</option>
        
            <option value="222">Uganda</option>
        
            <option value="224">United Arab Emirates</option>
        
            <option value="225">United Kingdom</option>
        
            <option value="226">United States</option>
        
            <option value="227">United States Minor Outlying Islands</option>
        
            <option value="228">Uruguay</option>
        
            <option value="229">Uzbekistan</option>
        
            <option value="230">Vanuatu</option>
        
            <option value="231">Venezuela</option>
        
            <option value="232">Viet Nam</option>
        
            <option value="233">Virgin Islands, British</option>
        
            <option value="234">Virgin Islands, U.s.</option>
        
            <option value="235">Wallis and Futuna</option>
        
            <option value="236">Western Sahara</option>
        
            <option value="237">Yemen</option>
        
            <option value="238">Zambia</option>
        
            <option value="239">Zimbabwe</option>
        
            <option value="223" selected="">Ukraine</option>
        
    </select>
</div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-sm">
                        <div class="p-0 t-14">
                            <span class="t-15 font-bold ">Phone number<span class="text-danger">*</span></span>
                            <div class="d-flex w-100">
                                <div class="input-group-prepend">
                                    <button class="btn btn-outline-secondary dropdown-toggle current-phone" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" value="14">+43</button>
                                    <div class="dropdown-menu border-phone">
                                        
                                            <a class="dropdown-item" value="1" phonecode="93">+93 Afghanistan</a>
                                        
                                            <a class="dropdown-item" value="2" phonecode="355">+355 Albania</a>
                                        
                                            <a class="dropdown-item" value="3" phonecode="213">+213 Algeria</a>
                                        
                                            <a class="dropdown-item" value="4" phonecode="1684">+1684 American Samoa</a>
                                        
                                            <a class="dropdown-item" value="5" phonecode="376">+376 Andorra</a>
                                        
                                            <a class="dropdown-item" value="6" phonecode="244">+244 Angola</a>
                                        
                                            <a class="dropdown-item" value="7" phonecode="1264">+1264 Anguilla</a>
                                        
                                            <a class="dropdown-item" value="8" phonecode="0">+0 Antarctica</a>
                                        
                                            <a class="dropdown-item" value="9" phonecode="1268">+1268 Antigua and Barbuda</a>
                                        
                                            <a class="dropdown-item" value="10" phonecode="54">+54 Argentina</a>
                                        
                                            <a class="dropdown-item" value="11" phonecode="374">+374 Armenia</a>
                                        
                                            <a class="dropdown-item" value="12" phonecode="297">+297 Aruba</a>
                                        
                                            <a class="dropdown-item" value="13" phonecode="61">+61 Australia</a>
                                        
                                            <a class="dropdown-item" value="14" phonecode="43">+43 Austria</a>
                                        
                                            <a class="dropdown-item" value="15" phonecode="994">+994 Azerbaijan</a>
                                        
                                            <a class="dropdown-item" value="16" phonecode="1242">+1242 Bahamas</a>
                                        
                                            <a class="dropdown-item" value="17" phonecode="973">+973 Bahrain</a>
                                        
                                            <a class="dropdown-item" value="18" phonecode="880">+880 Bangladesh</a>
                                        
                                            <a class="dropdown-item" value="19" phonecode="1246">+1246 Barbados</a>
                                        
                                            <a class="dropdown-item" value="20" phonecode="375">+375 Belarus</a>
                                        
                                            <a class="dropdown-item" value="21" phonecode="32">+32 Belgium</a>
                                        
                                            <a class="dropdown-item" value="22" phonecode="501">+501 Belize</a>
                                        
                                            <a class="dropdown-item" value="23" phonecode="229">+229 Benin</a>
                                        
                                            <a class="dropdown-item" value="24" phonecode="1441">+1441 Bermuda</a>
                                        
                                            <a class="dropdown-item" value="25" phonecode="975">+975 Bhutan</a>
                                        
                                            <a class="dropdown-item" value="26" phonecode="591">+591 Bolivia</a>
                                        
                                            <a class="dropdown-item" value="27" phonecode="387">+387 Bosnia and Herzegovina</a>
                                        
                                            <a class="dropdown-item" value="28" phonecode="267">+267 Botswana</a>
                                        
                                            <a class="dropdown-item" value="29" phonecode="0">+0 Bouvet Island</a>
                                        
                                            <a class="dropdown-item" value="30" phonecode="55">+55 Brazil</a>
                                        
                                            <a class="dropdown-item" value="31" phonecode="246">+246 British Indian Ocean Territory</a>
                                        
                                            <a class="dropdown-item" value="32" phonecode="673">+673 Brunei Darussalam</a>
                                        
                                            <a class="dropdown-item" value="33" phonecode="359">+359 Bulgaria</a>
                                        
                                            <a class="dropdown-item" value="34" phonecode="226">+226 Burkina Faso</a>
                                        
                                            <a class="dropdown-item" value="35" phonecode="257">+257 Burundi</a>
                                        
                                            <a class="dropdown-item" value="36" phonecode="855">+855 Cambodia</a>
                                        
                                            <a class="dropdown-item" value="37" phonecode="237">+237 Cameroon</a>
                                        
                                            <a class="dropdown-item" value="38" phonecode="1">+1 Canada</a>
                                        
                                            <a class="dropdown-item" value="39" phonecode="238">+238 Cape Verde</a>
                                        
                                            <a class="dropdown-item" value="40" phonecode="1345">+1345 Cayman Islands</a>
                                        
                                            <a class="dropdown-item" value="41" phonecode="236">+236 Central African Republic</a>
                                        
                                            <a class="dropdown-item" value="42" phonecode="235">+235 Chad</a>
                                        
                                            <a class="dropdown-item" value="43" phonecode="56">+56 Chile</a>
                                        
                                            <a class="dropdown-item" value="44" phonecode="86">+86 China</a>
                                        
                                            <a class="dropdown-item" value="45" phonecode="61">+61 Christmas Island</a>
                                        
                                            <a class="dropdown-item" value="46" phonecode="672">+672 Cocos (Keeling) Islands</a>
                                        
                                            <a class="dropdown-item" value="47" phonecode="57">+57 Colombia</a>
                                        
                                            <a class="dropdown-item" value="48" phonecode="269">+269 Comoros</a>
                                        
                                            <a class="dropdown-item" value="49" phonecode="242">+242 Congo</a>
                                        
                                            <a class="dropdown-item" value="50" phonecode="242">+242 Congo, the Democratic Republic of the</a>
                                        
                                            <a class="dropdown-item" value="51" phonecode="682">+682 Cook Islands</a>
                                        
                                            <a class="dropdown-item" value="52" phonecode="506">+506 Costa Rica</a>
                                        
                                            <a class="dropdown-item" value="53" phonecode="225">+225 Cote D'Ivoire</a>
                                        
                                            <a class="dropdown-item" value="54" phonecode="385">+385 Croatia</a>
                                        
                                            <a class="dropdown-item" value="55" phonecode="53">+53 Cuba</a>
                                        
                                            <a class="dropdown-item" value="56" phonecode="357">+357 Cyprus</a>
                                        
                                            <a class="dropdown-item" value="57" phonecode="420">+420 Czech Republic</a>
                                        
                                            <a class="dropdown-item" value="58" phonecode="45">+45 Denmark</a>
                                        
                                            <a class="dropdown-item" value="59" phonecode="253">+253 Djibouti</a>
                                        
                                            <a class="dropdown-item" value="60" phonecode="1767">+1767 Dominica</a>
                                        
                                            <a class="dropdown-item" value="61" phonecode="1809">+1809 Dominican Republic</a>
                                        
                                            <a class="dropdown-item" value="62" phonecode="593">+593 Ecuador</a>
                                        
                                            <a class="dropdown-item" value="63" phonecode="20">+20 Egypt</a>
                                        
                                            <a class="dropdown-item" value="64" phonecode="503">+503 El Salvador</a>
                                        
                                            <a class="dropdown-item" value="65" phonecode="240">+240 Equatorial Guinea</a>
                                        
                                            <a class="dropdown-item" value="66" phonecode="291">+291 Eritrea</a>
                                        
                                            <a class="dropdown-item" value="67" phonecode="372">+372 Estonia</a>
                                        
                                            <a class="dropdown-item" value="68" phonecode="251">+251 Ethiopia</a>
                                        
                                            <a class="dropdown-item" value="69" phonecode="500">+500 Falkland Islands (Malvinas)</a>
                                        
                                            <a class="dropdown-item" value="70" phonecode="298">+298 Faroe Islands</a>
                                        
                                            <a class="dropdown-item" value="71" phonecode="679">+679 Fiji</a>
                                        
                                            <a class="dropdown-item" value="72" phonecode="358">+358 Finland</a>
                                        
                                            <a class="dropdown-item" value="73" phonecode="33">+33 France</a>
                                        
                                            <a class="dropdown-item" value="74" phonecode="594">+594 French Guiana</a>
                                        
                                            <a class="dropdown-item" value="75" phonecode="689">+689 French Polynesia</a>
                                        
                                            <a class="dropdown-item" value="76" phonecode="0">+0 French Southern Territories</a>
                                        
                                            <a class="dropdown-item" value="77" phonecode="241">+241 Gabon</a>
                                        
                                            <a class="dropdown-item" value="78" phonecode="220">+220 Gambia</a>
                                        
                                            <a class="dropdown-item" value="79" phonecode="995">+995 Georgia</a>
                                        
                                            <a class="dropdown-item" value="80" phonecode="49">+49 Germany</a>
                                        
                                            <a class="dropdown-item" value="81" phonecode="233">+233 Ghana</a>
                                        
                                            <a class="dropdown-item" value="82" phonecode="350">+350 Gibraltar</a>
                                        
                                            <a class="dropdown-item" value="83" phonecode="30">+30 Greece</a>
                                        
                                            <a class="dropdown-item" value="84" phonecode="299">+299 Greenland</a>
                                        
                                            <a class="dropdown-item" value="85" phonecode="1473">+1473 Grenada</a>
                                        
                                            <a class="dropdown-item" value="86" phonecode="590">+590 Guadeloupe</a>
                                        
                                            <a class="dropdown-item" value="87" phonecode="1671">+1671 Guam</a>
                                        
                                            <a class="dropdown-item" value="88" phonecode="502">+502 Guatemala</a>
                                        
                                            <a class="dropdown-item" value="89" phonecode="224">+224 Guinea</a>
                                        
                                            <a class="dropdown-item" value="90" phonecode="245">+245 Guinea-Bissau</a>
                                        
                                            <a class="dropdown-item" value="91" phonecode="592">+592 Guyana</a>
                                        
                                            <a class="dropdown-item" value="92" phonecode="509">+509 Haiti</a>
                                        
                                            <a class="dropdown-item" value="93" phonecode="0">+0 Heard Island and Mcdonald Islands</a>
                                        
                                            <a class="dropdown-item" value="94" phonecode="39">+39 Holy See (Vatican City State)</a>
                                        
                                            <a class="dropdown-item" value="95" phonecode="504">+504 Honduras</a>
                                        
                                            <a class="dropdown-item" value="96" phonecode="852">+852 Hong Kong</a>
                                        
                                            <a class="dropdown-item" value="97" phonecode="36">+36 Hungary</a>
                                        
                                            <a class="dropdown-item" value="98" phonecode="354">+354 Iceland</a>
                                        
                                            <a class="dropdown-item" value="99" phonecode="91">+91 India</a>
                                        
                                            <a class="dropdown-item" value="100" phonecode="62">+62 Indonesia</a>
                                        
                                            <a class="dropdown-item" value="101" phonecode="98">+98 Iran, Islamic Republic of</a>
                                        
                                            <a class="dropdown-item" value="102" phonecode="964">+964 Iraq</a>
                                        
                                            <a class="dropdown-item" value="103" phonecode="353">+353 Ireland</a>
                                        
                                            <a class="dropdown-item" value="104" phonecode="972">+972 Israel</a>
                                        
                                            <a class="dropdown-item" value="105" phonecode="39">+39 Italy</a>
                                        
                                            <a class="dropdown-item" value="106" phonecode="1876">+1876 Jamaica</a>
                                        
                                            <a class="dropdown-item" value="107" phonecode="81">+81 Japan</a>
                                        
                                            <a class="dropdown-item" value="108" phonecode="962">+962 Jordan</a>
                                        
                                            <a class="dropdown-item" value="109" phonecode="7">+7 Kazakhstan</a>
                                        
                                            <a class="dropdown-item" value="110" phonecode="254">+254 Kenya</a>
                                        
                                            <a class="dropdown-item" value="111" phonecode="686">+686 Kiribati</a>
                                        
                                            <a class="dropdown-item" value="112" phonecode="850">+850 Korea, Democratic People's Republic of</a>
                                        
                                            <a class="dropdown-item" value="113" phonecode="82">+82 Korea, Republic of</a>
                                        
                                            <a class="dropdown-item" value="114" phonecode="965">+965 Kuwait</a>
                                        
                                            <a class="dropdown-item" value="115" phonecode="996">+996 Kyrgyzstan</a>
                                        
                                            <a class="dropdown-item" value="116" phonecode="856">+856 Lao People's Democratic Republic</a>
                                        
                                            <a class="dropdown-item" value="117" phonecode="371">+371 Latvia</a>
                                        
                                            <a class="dropdown-item" value="118" phonecode="961">+961 Lebanon</a>
                                        
                                            <a class="dropdown-item" value="119" phonecode="266">+266 Lesotho</a>
                                        
                                            <a class="dropdown-item" value="120" phonecode="231">+231 Liberia</a>
                                        
                                            <a class="dropdown-item" value="121" phonecode="218">+218 Libyan Arab Jamahiriya</a>
                                        
                                            <a class="dropdown-item" value="122" phonecode="423">+423 Liechtenstein</a>
                                        
                                            <a class="dropdown-item" value="123" phonecode="370">+370 Lithuania</a>
                                        
                                            <a class="dropdown-item" value="124" phonecode="352">+352 Luxembourg</a>
                                        
                                            <a class="dropdown-item" value="125" phonecode="853">+853 Macao</a>
                                        
                                            <a class="dropdown-item" value="126" phonecode="389">+389 Macedonia, the Former Yugoslav Republic of</a>
                                        
                                            <a class="dropdown-item" value="127" phonecode="261">+261 Madagascar</a>
                                        
                                            <a class="dropdown-item" value="128" phonecode="265">+265 Malawi</a>
                                        
                                            <a class="dropdown-item" value="129" phonecode="60">+60 Malaysia</a>
                                        
                                            <a class="dropdown-item" value="130" phonecode="960">+960 Maldives</a>
                                        
                                            <a class="dropdown-item" value="131" phonecode="223">+223 Mali</a>
                                        
                                            <a class="dropdown-item" value="132" phonecode="356">+356 Malta</a>
                                        
                                            <a class="dropdown-item" value="133" phonecode="692">+692 Marshall Islands</a>
                                        
                                            <a class="dropdown-item" value="134" phonecode="596">+596 Martinique</a>
                                        
                                            <a class="dropdown-item" value="135" phonecode="222">+222 Mauritania</a>
                                        
                                            <a class="dropdown-item" value="136" phonecode="230">+230 Mauritius</a>
                                        
                                            <a class="dropdown-item" value="137" phonecode="269">+269 Mayotte</a>
                                        
                                            <a class="dropdown-item" value="138" phonecode="52">+52 Mexico</a>
                                        
                                            <a class="dropdown-item" value="139" phonecode="691">+691 Micronesia, Federated States of</a>
                                        
                                            <a class="dropdown-item" value="140" phonecode="373">+373 Moldova, Republic of</a>
                                        
                                            <a class="dropdown-item" value="141" phonecode="377">+377 Monaco</a>
                                        
                                            <a class="dropdown-item" value="142" phonecode="976">+976 Mongolia</a>
                                        
                                            <a class="dropdown-item" value="143" phonecode="1664">+1664 Montserrat</a>
                                        
                                            <a class="dropdown-item" value="144" phonecode="212">+212 Morocco</a>
                                        
                                            <a class="dropdown-item" value="145" phonecode="258">+258 Mozambique</a>
                                        
                                            <a class="dropdown-item" value="146" phonecode="95">+95 Myanmar</a>
                                        
                                            <a class="dropdown-item" value="147" phonecode="264">+264 Namibia</a>
                                        
                                            <a class="dropdown-item" value="148" phonecode="674">+674 Nauru</a>
                                        
                                            <a class="dropdown-item" value="149" phonecode="977">+977 Nepal</a>
                                        
                                            <a class="dropdown-item" value="150" phonecode="31">+31 Netherlands</a>
                                        
                                            <a class="dropdown-item" value="151" phonecode="599">+599 Netherlands Antilles</a>
                                        
                                            <a class="dropdown-item" value="152" phonecode="687">+687 New Caledonia</a>
                                        
                                            <a class="dropdown-item" value="153" phonecode="64">+64 New Zealand</a>
                                        
                                            <a class="dropdown-item" value="154" phonecode="505">+505 Nicaragua</a>
                                        
                                            <a class="dropdown-item" value="155" phonecode="227">+227 Niger</a>
                                        
                                            <a class="dropdown-item" value="156" phonecode="234">+234 Nigeria</a>
                                        
                                            <a class="dropdown-item" value="157" phonecode="683">+683 Niue</a>
                                        
                                            <a class="dropdown-item" value="158" phonecode="672">+672 Norfolk Island</a>
                                        
                                            <a class="dropdown-item" value="159" phonecode="1670">+1670 Northern Mariana Islands</a>
                                        
                                            <a class="dropdown-item" value="160" phonecode="47">+47 Norway</a>
                                        
                                            <a class="dropdown-item" value="161" phonecode="968">+968 Oman</a>
                                        
                                            <a class="dropdown-item" value="162" phonecode="92">+92 Pakistan</a>
                                        
                                            <a class="dropdown-item" value="163" phonecode="680">+680 Palau</a>
                                        
                                            <a class="dropdown-item" value="164" phonecode="970">+970 Palestinian Territory, Occupied</a>
                                        
                                            <a class="dropdown-item" value="165" phonecode="507">+507 Panama</a>
                                        
                                            <a class="dropdown-item" value="166" phonecode="675">+675 Papua New Guinea</a>
                                        
                                            <a class="dropdown-item" value="167" phonecode="595">+595 Paraguay</a>
                                        
                                            <a class="dropdown-item" value="168" phonecode="51">+51 Peru</a>
                                        
                                            <a class="dropdown-item" value="169" phonecode="63">+63 Philippines</a>
                                        
                                            <a class="dropdown-item" value="170" phonecode="0">+0 Pitcairn</a>
                                        
                                            <a class="dropdown-item" value="171" phonecode="48">+48 Poland</a>
                                        
                                            <a class="dropdown-item" value="172" phonecode="351">+351 Portugal</a>
                                        
                                            <a class="dropdown-item" value="173" phonecode="1787">+1787 Puerto Rico</a>
                                        
                                            <a class="dropdown-item" value="174" phonecode="974">+974 Qatar</a>
                                        
                                            <a class="dropdown-item" value="175" phonecode="262">+262 Reunion</a>
                                        
                                            <a class="dropdown-item" value="176" phonecode="40">+40 Romania</a>
                                        
                                            <a class="dropdown-item" value="177" phonecode="70">+70 Russian Federation</a>
                                        
                                            <a class="dropdown-item" value="178" phonecode="250">+250 Rwanda</a>
                                        
                                            <a class="dropdown-item" value="179" phonecode="290">+290 Saint Helena</a>
                                        
                                            <a class="dropdown-item" value="180" phonecode="1869">+1869 Saint Kitts and Nevis</a>
                                        
                                            <a class="dropdown-item" value="181" phonecode="1758">+1758 Saint Lucia</a>
                                        
                                            <a class="dropdown-item" value="182" phonecode="508">+508 Saint Pierre and Miquelon</a>
                                        
                                            <a class="dropdown-item" value="183" phonecode="1784">+1784 Saint Vincent and the Grenadines</a>
                                        
                                            <a class="dropdown-item" value="184" phonecode="684">+684 Samoa</a>
                                        
                                            <a class="dropdown-item" value="185" phonecode="378">+378 San Marino</a>
                                        
                                            <a class="dropdown-item" value="186" phonecode="239">+239 Sao Tome and Principe</a>
                                        
                                            <a class="dropdown-item" value="187" phonecode="966">+966 Saudi Arabia</a>
                                        
                                            <a class="dropdown-item" value="188" phonecode="221">+221 Senegal</a>
                                        
                                            <a class="dropdown-item" value="189" phonecode="381">+381 Serbia and Montenegro</a>
                                        
                                            <a class="dropdown-item" value="190" phonecode="248">+248 Seychelles</a>
                                        
                                            <a class="dropdown-item" value="191" phonecode="232">+232 Sierra Leone</a>
                                        
                                            <a class="dropdown-item" value="192" phonecode="65">+65 Singapore</a>
                                        
                                            <a class="dropdown-item" value="193" phonecode="421">+421 Slovakia</a>
                                        
                                            <a class="dropdown-item" value="194" phonecode="386">+386 Slovenia</a>
                                        
                                            <a class="dropdown-item" value="195" phonecode="677">+677 Solomon Islands</a>
                                        
                                            <a class="dropdown-item" value="196" phonecode="252">+252 Somalia</a>
                                        
                                            <a class="dropdown-item" value="197" phonecode="27">+27 South Africa</a>
                                        
                                            <a class="dropdown-item" value="198" phonecode="0">+0 South Georgia and the South Sandwich Islands</a>
                                        
                                            <a class="dropdown-item" value="199" phonecode="34">+34 Spain</a>
                                        
                                            <a class="dropdown-item" value="200" phonecode="94">+94 Sri Lanka</a>
                                        
                                            <a class="dropdown-item" value="201" phonecode="249">+249 Sudan</a>
                                        
                                            <a class="dropdown-item" value="202" phonecode="597">+597 Suriname</a>
                                        
                                            <a class="dropdown-item" value="203" phonecode="47">+47 Svalbard and Jan Mayen</a>
                                        
                                            <a class="dropdown-item" value="204" phonecode="268">+268 Swaziland</a>
                                        
                                            <a class="dropdown-item" value="205" phonecode="46">+46 Sweden</a>
                                        
                                            <a class="dropdown-item" value="206" phonecode="41">+41 Switzerland</a>
                                        
                                            <a class="dropdown-item" value="207" phonecode="963">+963 Syrian Arab Republic</a>
                                        
                                            <a class="dropdown-item" value="208" phonecode="886">+886 Taiwan, Province of China</a>
                                        
                                            <a class="dropdown-item" value="209" phonecode="992">+992 Tajikistan</a>
                                        
                                            <a class="dropdown-item" value="210" phonecode="255">+255 Tanzania, United Republic of</a>
                                        
                                            <a class="dropdown-item" value="211" phonecode="66">+66 Thailand</a>
                                        
                                            <a class="dropdown-item" value="212" phonecode="670">+670 Timor-Leste</a>
                                        
                                            <a class="dropdown-item" value="213" phonecode="228">+228 Togo</a>
                                        
                                            <a class="dropdown-item" value="214" phonecode="690">+690 Tokelau</a>
                                        
                                            <a class="dropdown-item" value="215" phonecode="676">+676 Tonga</a>
                                        
                                            <a class="dropdown-item" value="216" phonecode="1868">+1868 Trinidad and Tobago</a>
                                        
                                            <a class="dropdown-item" value="217" phonecode="216">+216 Tunisia</a>
                                        
                                            <a class="dropdown-item" value="218" phonecode="90">+90 Turkey</a>
                                        
                                            <a class="dropdown-item" value="219" phonecode="7370">+7370 Turkmenistan</a>
                                        
                                            <a class="dropdown-item" value="220" phonecode="1649">+1649 Turks and Caicos Islands</a>
                                        
                                            <a class="dropdown-item" value="221" phonecode="688">+688 Tuvalu</a>
                                        
                                            <a class="dropdown-item" value="222" phonecode="256">+256 Uganda</a>
                                        
                                            <a class="dropdown-item" value="224" phonecode="971">+971 United Arab Emirates</a>
                                        
                                            <a class="dropdown-item" value="225" phonecode="44">+44 United Kingdom</a>
                                        
                                            <a class="dropdown-item" value="226" phonecode="1">+1 United States</a>
                                        
                                            <a class="dropdown-item" value="227" phonecode="1">+1 United States Minor Outlying Islands</a>
                                        
                                            <a class="dropdown-item" value="228" phonecode="598">+598 Uruguay</a>
                                        
                                            <a class="dropdown-item" value="229" phonecode="998">+998 Uzbekistan</a>
                                        
                                            <a class="dropdown-item" value="230" phonecode="678">+678 Vanuatu</a>
                                        
                                            <a class="dropdown-item" value="231" phonecode="58">+58 Venezuela</a>
                                        
                                            <a class="dropdown-item" value="232" phonecode="84">+84 Viet Nam</a>
                                        
                                            <a class="dropdown-item" value="233" phonecode="1284">+1284 Virgin Islands, British</a>
                                        
                                            <a class="dropdown-item" value="234" phonecode="1340">+1340 Virgin Islands, U.s.</a>
                                        
                                            <a class="dropdown-item" value="235" phonecode="681">+681 Wallis and Futuna</a>
                                        
                                            <a class="dropdown-item" value="236" phonecode="212">+212 Western Sahara</a>
                                        
                                            <a class="dropdown-item" value="237" phonecode="967">+967 Yemen</a>
                                        
                                            <a class="dropdown-item" value="238" phonecode="260">+260 Zambia</a>
                                        
                                            <a class="dropdown-item" value="239" phonecode="263">+263 Zimbabwe</a>
                                        
                                            <a class="dropdown-item" value="223" phonecode="380">+380 Ukraine</a>
                                        
                                    </div>
                                </div>
                                <input type="text" class="form-control" id="phone" aria-label="Text input with dropdown button" value="987654321" required="">
                            </div>
                        </div>
                        <script>
                            $('.dropdown-item').click(function () {
                                $('.current-phone').text('+' + $(this).attr('phonecode'));
                                $('.current-phone').attr('value', $(this).attr('value'));
                            })
                        </script>
                    </div>
                    <div class="col-sm">
                        <div id="" style="" class="">
    <div class="col p-0 font-bold t-14">
        <span class="t-14 ">Skype ID</span>
        <div class="input-group mb-3 ">
            
                <input type="text" name="" class="rounded form-control   " placeholder="" id="skype" value="asf12sdqw">
            
            <small class="form-text text-muted"></small>
        </div>
    </div>
</div>

                    </div>
                </div>
                <div class="row pt-3">
                    <div class="col-sm">
                        <div class="account-settings__icon-image">
                            <label for="account-settings__user-avatar" id="account-settings__icon-image-vabel" style="background-image: url(https://api.rab.dev19.splinestudio.com/static/travelers_profile_pic/2020_1_13_9_24_13_1.jpg);"></label>
                            <input type="file" name="f" id="account-settings__user-avatar" accept="image/*,image/jpeg">
                            <div class="account-settings__button-block">
                                <p>Profile picture</p>
                                <label for="account-settings__user-avatar" class="btn account-settings__icon-image-button">CHOOSE FILE</label>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-sm">
                        <div class="custom-control custom-checkbox my-1 mr-sm-2">
                            <input type="checkbox" class="custom-control-input" checked="" id="agent_radio" title="modal">
                            <label class="custom-control-label" for="agent_radio"><b>I am travel professional</b></label>
                        </div>
                        <p>Verified travel professionals such as: tour operators, travel agents, DMC’s, OTA’s, incoming tour operators and ground handlers enjoy extra status and benefits from our associated transport companies as our organization.</p>
                    </div>
                </div>
            </div>
        </div>
</div>

<div class="d-flex justify-content-end pt-4">
    <button type="button" id="update_profile" class="align-items-center btn btn-success d-flex justify-content-center p-2 text-uppercase col-2">
        <li class="d-flex"><i class="${text_color} fa-check fas text-white"></i></li>
        Save
    </button>
</div>

<script>
    document.querySelector("#account-settings__user-avatar").addEventListener("change", function () {
        if (this.files[0]) {
            var fr = new FileReader();

            fr.addEventListener("load", function () {
                document.querySelector("#account-settings__icon-image-vabel").style.backgroundImage = "url(" + fr.result + ")";
            }, false);

            fr.readAsDataURL(this.files[0]);
        }
    });
    $('#update_profile').click(function() {
        let state = validate_require('account-settings');
        if (state) {
            let data = {
                'first_name': $('#first_name').val(),
                'last_name': $('#last_name').val(),
                'address': $('#address').val(),
                'zip_code': $('#zip_code').val(),
                'city': $('#city').val(),
                'country': parseInt($('#user_country').val()),
                'phone_code': parseInt($('#phone_code').val()),
                'phone': $('#phone').val(),
                'skype': $('#skype').val(),
                'phone_code': $('.current-phone').attr('value'),
                'is_agency': $('#agent_radio').is(':checked'),
            };
            if ($(`#account-settings__user-avatar`)[0].files.length === 1) {
                let file = $(`#account-settings__user-avatar`);
                let formData = new FormData();
                formData.append("name", file[0].files[0].name);
                formData.append("file", file[0].files[0]);
                formData.append("type", file.attr('title'));
                formData.append("profile_id", 1);

                $.ajax({
                    url: "https://api.rab.dev19.splinestudio.com/traveler/update_profile_photo/",
                    type: "POST",
                    processData: false,
                    contentType: false,
                    cache: false,
                    data: formData,
                    enctype: 'multipart/form-data',
                });
            }
            send_post(`/traveler/update_profile/`, data, false, () => location.reload());
        }
    })

</script>

<style>
.account-settings__icon-image {
    display: flex;
    align-items: center;
}

.account-settings__button-block {
    display: flex;
    flex-direction: column;
    margin-left: 15px;
    font-size: 14px;
    font-weight: bold;
}

.account-settings__button-block p {
    margin: 0 0 10px 0;
}

#account-settings__user-avatar {
    display: none;
}

#account-settings__icon-image-vabel {
    background-color: #D1D2D9;
    background-image: url("/static/avatar-user-file.svg");
    background-position: center;
    background-repeat: no-repeat;
    background-size: contain;
    border-radius: 50px;
    cursor: pointer;
    display: inline-block;
    height: 100px;
    margin-bottom: 20px;
    width: 100px;
}

.account-settings__icon-image-button {
    border: 1px solid #61C9F6;
    color: #61C9F6;
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
}
</style>

                            </div>
                            <div class="tab-pane fade show" id="list-change_email" role="tabpanel" aria-labelledby="list-change_email-list">
                                <div class="accordion traveler-change-email" name="Change email address">
    <form method="POST" class="border-bottom border-top pb-2 pt-3">
        <div class="form-group">
            <label for="new_email_address" class="font-weight-bold">New email address<span class="text-danger">*</span></label>
            <input type="email" class="form-control col-5" id="new_email_address" required="">
        </div>
        <div class="form-group">
            <label for="repeated_email" class="font-weight-bold">Repeat new email address<span class="text-danger">*</span></label>
            <input type="email" class="form-control col-5" id="repeated_email" required="">
        </div>
        <div class="form-group">
            <label for="pass" class="font-weight-bold">Password<span class="text-danger">*</span></label>
            <input type="password" class="form-control col-5" id="pass" required="">
        </div>
    </form>
    <div class="d-flex justify-content-end pt-4">
        <button type="button" id="save_email" class="align-items-center btn btn-success d-flex justify-content-center p-2 text-uppercase col-2">
            <li class="d-flex"><i class="${text_color} fa-check fas text-white"></i></li>
            Save
        </button>
    </div>
</div>
<script>
    $('#save_email').click(function () {
        let state = validate_require('traveler-change-email');
        let is_pass_sim = true;

        if ($(`#new_email_address`).val() !== $(`#repeated_email`).val()) {
            is_pass_sim = false;
            $(`#repeated_email`).removeClass('valid').addClass('invalid').val('').attr('placeholder', 'Emails are not identical');
        }

        if (state && is_pass_sim) {
            let data = {
                'password': $('#pass').val(),
                'new_email': $('#new_email_address').val(),
                'repeated_email': $('#repeated_email').val()
            };
            send_post('/traveler/change_email/', data, false, (response) =>{
                if(response.status===1){
                    success_alert('Email was changed!');
                    localStorage.removeItem('jwt');
                    document.cookie = `token=;path=/`;
                    window.location.href = '/';
                }
                if(response.status===-1){
                    error_alert(response.error_message)
                }
            })
        }
    })
</script>

                            </div>
                            <div class="tab-pane fade show" id="list-change_password" role="tabpanel" aria-labelledby="list-change_password-list">
                                <div class="traveler-change-password accordion" name="Change password">
    <form method="POST" class="border-bottom border-top pb-2 pt-3">
        <div class="form-group">
            <label for="old_pass" class="font-weight-bold">Old password<span class="text-danger">*</span></label>
            <input type="password" class="form-control col-5" id="old_pass" required="">
        </div>
        <div class="form-group">
            <label for="new_pass" class="font-weight-bold">New password<span class="text-danger">*</span></label>
            <input type="password" class="form-control col-5" id="new_pass" required="">
        </div>
        <div class="form-group">
            <label for="conf_new_pass" class="font-weight-bold">Repeat new password<span class="text-danger">*</span></label>
            <input type="password" class="form-control col-5" id="conf_new_pass" required="">
        </div>
    </form>
    <div class="d-flex justify-content-end pt-4">
        <button type="button" class="align-items-center btn btn-success d-flex justify-content-center p-2 text-uppercase col-2 save_pass ">
            <li class="d-flex"><i class="${text_color} fa-check fas text-white"></i></li>
            Save
        </button>
    </div>
</div>

<script>
    $('.save_pass').click(function () {
        let state = validate_require('traveler-change-password');
        if ($('#new_pass').val() !== $('#conf_new_pass').val()){
            $('#new_pass').removeClass('valid').addClass('is-invalid');
            $('#conf_new_pass').removeClass('valid').addClass('is-invalid');
            state = false;
        } else {
            $('#new_pass').removeClass('is-invalid').addClass('valid');
            $('#conf_new_pass').removeClass('is-invalid').addClass('valid');
        }

        if (state){
            let data = {
            'old_password': $('#old_pass').val(),
            'new_password': $('#new_pass').val(),
            'confirm_pass': $('#conf_new_pass').val(),
            };
            send_post(`/traveler/change_password/`, data, true, (response) => {
                if(response.status===1){
                    success_alert('Password was changed!');
                    localStorage.removeItem('jwt');
                    document.cookie = `token=;path=/`;
                    window.location.href = '/';
                }
                if(response.status===-1){
                    error_alert(response.msg)
                }
            })
        }
    });
</script>

                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-12 p-0">
                        <div class="list-group" id="list-tab" role="tablist">
                            <a class="list-group-item list-group-item-action active" id="list-contact_details-list" role="tab" data-toggle="list" href="#list-contact_details" aria-controls="contact_details">
                                <i class="fas fa-user"></i>
                                Account Settings
                            </a>
                            <a class="list-group-item list-group-item-action" id="list-change_email-list" data-toggle="list" href="#list-change_email" role="tab" aria-controls="change_email">
                                <i class="fas fa-envelope"></i>
                                Change Email address
                            </a>
                            <a class="list-group-item list-group-item-action" id="list-change_password-list" data-toggle="list" href="#list-change_password" role="tab" aria-controls="change_password">
                                <i class="fas fa-key"></i>
                                Change Password
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="my_history" role="tabpanel" aria-labelledby="my_messages">
                <!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191128738">20191128738</a>-->
<!--        <button onclick="open_chat_window(20191128738, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191223756">20191223756</a>-->
<!--        <button onclick="open_chat_window(20191223756, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191126736">20191126736</a>-->
<!--        <button onclick="open_chat_window(20191126736, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191126735">20191126735</a>-->
<!--        <button onclick="open_chat_window(20191126735, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191212748">20191212748</a>-->
<!--        <button onclick="open_chat_window(20191212748, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191128739">20191128739</a>-->
<!--        <button onclick="open_chat_window(20191128739, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191206744">20191206744</a>-->
<!--        <button onclick="open_chat_window(20191206744, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191202740">20191202740</a>-->
<!--        <button onclick="open_chat_window(20191202740, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20200102773">20200102773</a>-->
<!--        <button onclick="open_chat_window(20200102773, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20191202741">20191202741</a>-->
<!--        <button onclick="open_chat_window(20191202741, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20200121807">20200121807</a>-->
<!--        <button onclick="open_chat_window(20200121807, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20200108786">20200108786</a>-->
<!--        <button onclick="open_chat_window(20200108786, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20200102779">20200102779</a>-->
<!--        <button onclick="open_chat_window(20200102779, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--    <div class="row padding30px">-->
<!--        <a href="/en/traveler/trip/20200117806">20200117806</a>-->
<!--        <button onclick="open_chat_window(20200117806, 1, 'http://dev19.splinestudio.com:9994'), 0">chat-->
<!--        </button>-->
<!--    </div>-->
<!---->
<!--<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>

<script src="/static/js/bootstrap-datetimepicker.min.js"></script>


<div class="row chat-window col-xs-5 col-md-3" id="chat_window_1" style="margin-left:200px; position: absolute; bottom: 90px;">
    <div class="col-xs-12 col-md-12">
        <div class="panel panel-default">
            <div class="panel-heading top-bar">
                <div class="col-md-8 col-xs-8">
                    <h3 class="panel-title">
                        <span class="glyphicon glyphicon-comment"></span>
                        <span id="chat_name"></span>
                        <input type="text" id="chat_id_socket_io" hidden>
                    </h3>
                </div>
                <div class="col-md-4 col-xs-4" style="text-align: right;">
                    <a href="#"><span class="glyphicon glyphicon-remove icon_close" data-id="chat_window_1"></span></a>
                </div>
            </div>
            <div class="panel-body msg_container_base"></div>
            <div class="panel-footer">
                <div class="input-group">
                    <input id="btn-input" type="text" class="form-control input-sm chat_input"
                           placeholder="Write your message here..."/>
                    <span class="input-group-btn">
                        <button class="btn btn-primary btn-sm" id="btn-chat">Send</button>
                        </span>
                    <div class="upload-btn-wrapper">
                        <button class="btn-file">Choose file</button>
                        <input type="file" id="file" accept=".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf" name="myfile"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/static/js/chat.js"></script>
<script>
    $('#file').change(function ( e ) {
        let data, xhr;
        let file = document.getElementById('file').files[0];
        data = new FormData();
        data.append('file', file);
        $.ajax({
            url: 'https://api.rab.dev19.splinestudio.com/upload_message_file/',
            type: "POST",
            processData: false,
            contentType: false,
            cache: false,
            data: data,
            enctype: 'multipart/form-data',
            success: function (response) {
                let file_url = `https://api.rab.dev19.splinestudio.com` + response.file_url;
                let file_name = response.file_name;
                let type = parseInt(window.localStorage.getItem('type'));
                send_post(`/socket/say/`, {
                    'msg': `<a href='${file_url}'>${file_name}</a>`,
                    'chat_id': $('#chat_id_socket_io').val(),
                    'file_url': file_url,
                    'type': type,
                    'attached_file': response.file_url
                }, spin_off = false);
            }, error: function (response) {
            }
        });
    });

</script>
-->
<!--<div class="upload-btn-wrapper">-->
<!--    <button class="btn-file">Choose file</button>-->
<!--    <input type="file" id="file" accept=".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf" name="myfile"/>-->
<!--</div>-->

<!--<script>-->
<!--    $('#file').change(function (e) {-->
<!--        let data;-->
<!--        let file = document.getElementById('file').files[0]-->
<!--        data = new FormData();-->
<!--        data.append('file', file);-->
<!--        $.ajax({-->
<!--            url: 'https://api.rab.dev19.splinestudio.com/upload_message_file/',-->
<!--            type: "POST",-->
<!--            processData: false,-->
<!--            contentType: false,-->
<!--            cache: false,-->
<!--            data: data,-->
<!--            enctype: 'multipart/form-data',-->
<!--            success: function (response) {-->
<!--                let msg = $('#btn-input').val();-->
<!--                if (msg.length !== 0) {-->
<!--                    let type = parseInt(window.localStorage.getItem('type'));-->
<!--                    send_post(`/socket/say/`, {-->
<!--                        'msg': msg,-->
<!--                        'chat_id': $('#chat_id_socket_io').val(),-->
<!--                        'type': type,-->
<!--                        'attached_file': response.file_url-->
<!--                    }, spin_off = false);-->
<!--                }-->

<!--            }, error: function (response) {-->

<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

            </div>
            <div class="tab-pane" id="reservations_requests" role="tabpanel" aria-labelledby="my_reservations">
                <div id="reservations-requests">
    <div class="alert-success-bg p-3 flex">
        <h3 class="m-0 green" style="font-size: 18px;"><i class="fa fa-check-circle"></i> Well done! </h3>
        <span>
            You now have requested a reservation with the bus company of your choice. Please allow the bus company some
            time to review your request and to confirm back to you. If you have made some changes to your request then
            these might have some effects on the quoted price. In the case that the bus company adapts its quoted price
            you’ll be asked to review again and re-confirm your request. Please also note that this request is now in
            the tab ‘Reservations’ and not anymore in the ‘Trips’. Contact our customer service for any questions you
            might have.
        </span>
    </div>
    <h1 class="mt-4">Reservations requests</h1>
    <p>On this page you can view both your Reservation Requests as your Confirmed Reservations. To see the details of a
        reservation click on the blue link in the column on the left side of the page under ' Info Trips'.</p>
    
</div>


<div class="container reservation_details d-none">
    <div class="row mt-3 mb-4">
        <div class="col-12 flex">
            <span class="t-15-link flex pointer" onclick="hide_details_open_main()"><img src="/static/right-arrow.png" alt="arrow" style="width: 16px; margin-right: 5px;">View all</span>
            <div class="v-line height"></div>
            <span class="h1 font-bold m-0">Reservation with <span class="company_name h1 font-bold"></span></span>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="flex status-trip justify-content-between no-elem">
                <div class="flex">
                    <div class="left-border pr-30">
                        <span><b>Reservation for order ID:</b> <span class="order-id"></span></span>
                    </div>
                    <div>
                        <span><b>Status quote request: <span class="status"></span></b></span>
                    </div>
                </div>
                <div class="flex no-wrap">
                    <img src="/static/sharing.png" class="sharing" width="25" height="24" alt="sharing">
                    <span class="t-16 clipboard"><b>Share quotes</b></span>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        
<div class="col-8 flex justify-content-between service">
        <div class="flex service no-wrap block-bus_info d-none">
            <span class="flex pr-lg-3">
                <img src="/static/bus-b.png" alt="bus" class="bus-b">
                <span>Kan niet rijden  2611AM Delft	</span>
            </span>
            <span class="pr-lg-3">Fleet size: <span class="fleet_size"></span></span>
            <span>Tel: <span class="phone_number"></span></span>
        </div>
    <div class="block-bus_info w-100 flex">
        <div class="fotorama" data-nav="thumbs">
        
            <a href="https://api.rab.dev19.splinestudio.com/static/bus/default-no-bus-pic.png"><img src="https://api.rab.dev19.splinestudio.com/static/bus/default-no-bus-pic.png"></a>
        
        </div>
        <div class="fotorama fotorama-mob">
             
                <a href="https://api.rab.dev19.splinestudio.com/static/bus/default-no-bus-pic.png"><img src="https://api.rab.dev19.splinestudio.com/static/bus/default-no-bus-pic.png"></a>
            
        </div>
        <div class="info_bus">
            <p class="m-0"><b>Executive Coach</b></p>
            <p class="m-0">Seats <span class="bus-seats"></span></p>
            <p class="m-0">Luggage <span class="bus-luggage"></span></p>
            <p class="m-0">Year: <span class="bus-year"></span></p>
            <div class="flex service">
                <div class="bus-servece">
                        <p class="m-0"><b>Comfort</b></p>
                        <p id="air_conditioning" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Air conditioning</p>
                        <p id="toilet" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Toilet</p>
                        <p id="double_window" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Double windows</p>
                        <p id="reclining_seats" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Reclining seats</p>
                </div>
                <div class="bus-servece m-0">
                        <p class="m-0"><b>Catering &amp; Service</b></p>
                        <p id="coffee_hot_water" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Coffee &amp; Hot water</p>
                        <p id="fridge" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Fridge</p>
                        <p id="hostess" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Hostess</p>
                        <p id="tour_guide" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Tour guide</p>
                </div>
            </div>
            <div class="flex service">
                <div class="bus-servece">
                        <p class="m-0"><b>Communication</b></p>
                        <p id="cd_radio" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>CD/Radio</p>
                        <p id="dvd_video" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>DVD/Video</p>
                        <p id="wi_fi" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>WiFi</p>
                        <p id="personal_address_system" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Personal address syste</p>
                </div>
                <div class="bus-servece m-0">
                        <p class="m-0"><b>Catering &amp; Service</b></p>
                        <p id="seat_belts" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Seat belts</p>
                        <p id="abs" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>ABS</p>
                        <p id="protecting_arcs" class="m-0"><i class="fa fa-check" aria-hidden="true"></i>Protecting arc</p>
                </div>
            </div>
        </div>
    </div>
    <div class="block-bus_info w-100 flex">
        <h3 class="m-0"><b>Remarks of the transport company</b></h3>
        <i class="company_comment">We give free water and driver can make photos and serve burgers.</i>
    </div>
    <div class="block-bus_info w-100 flex">
        <div class="border-bottom">
            <h3 class="m-0"><b>Travel plan</b></h3>
            <div class="flex m-b w-100 margin-top">
                <img src="/static/Group-size.png" alt="group" style="width: 19px; margin-right: 8px;">
                <span style="font-weight: 600;">Group size: <span class="group_size"></span></span>
            </div>
            <div class="service flex margin-top">
                <img src="/static/info.png" alt="info" style="width: 19px; margin-right: 9px;">
                <span>About group: <span class="group_descr"></span></span>
                <p class="margin-left"> Please comment about group, ages, reason of travel, attractions and destinations, flight details, special requirements and amount of luggage per person. Please indicate if you are searching for 'best price' or for comfort or luxury. </p>
            </div>
            <div class="main-add align-items-center justify-content-between add-file-bg border-box d-flex hide-element">
                <div class="d-flex align-items-center">
                    <i class="fas fa-paperclip pr-lg-2 text-file-add"></i>
                    <span class="text-file-add"><a class="filePopup"></a></span>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-between w-100 pt-lg-4">
            <h3 class="m-0 d-flex align-items-center"><b>Route plan and cost specification</b></h3>
            <button class="edit-popup-open btn_white open-popup text-uppercase w-25">Edit Plan</button>
        </div>
        <div class="body-travel-reservation col-12 p-0">
            <div class="time-info-treval flex flex-column p-1">
                <span class="info-days text-white"></span>
                <span class="info-text-days text-white"></span>
                <span class="info-time text-white"></span>
                <span class="info-hours-time text-white"></span>
            </div>
            <div class="block-treval p-0 flex first-block">
            </div>
        </div>
        <div class="card mb-3 top-card w-100 margin-left-mob">
            <div class="card-header bg-primary">
                <div class="d-flex justify-content-between pr-3 pl-3">
                    <div class="row font-bold t-14 text-white">Summary</div>
                </div>
            </div>
            <div class="card-body color">
                <div>
                    <p class="col pl-1 w-100 flex conten-flex">
                        <span class="t-15" style="font-weight: 600;">Subtotal</span>
                        <span class="t-15 subtotal"></span>
                    </p>
                    <p class="col pl-1 w-100 flex conten-flex">
                        <span class="t-15" style="font-weight: 600;">Booking fee</span>
                        <span class="t-15 booking_fee"></span>
                    </p>
                    <p class="col pl-1 w-100 flex conten-flex">
                        <span class="t-15" style="font-weight: 600;">VAT (6%)</span>
                        <span class="t-15 vat"></span>
                    </p>
                    <p class="col pl-1 w-100 flex conten-flex last-child">
                        <span class="t-15" style="font-weight: 600;">Total price</span>
                        <span class="t-18 font-bold total_price"></span>
                    </p>
                </div>
            </div>
        </div>
        <div class=" margin-left-mob">
            <h3 class="m-0"><b>Payment terms</b></h3>
            <p class="t-14 font-bold pt-lg-2">Payment of <span class="total_price"></span></p>
            <p class="t-14">Once your reservation is accepted by the transport company, you'll receive a request to make a payment of the amount offered. To secure this reservation, this payment must have been received by the transport company before: <span class="payment-before"></span></p>
        </div>
    </div>
    <div class="block-bus_info w-100 flex">
        <h3 class="m-0">Cancellation Policy</h3>
        <p class="grey">When accepting your reservation the transport company is blocking the vehicle(s) of its fleet for your use only. By doing so it might miss business from other clients. Therefore, if you cancel the trip, an annulation fee is charged to you. Each transport company has established its own terms and these can differ from each other. You can compare these terms by viewing each detailed offer.
        <br>
        <br>- <span class="cancelled_14 grey"></span> % of total amount when cancelled up to 14 days prior to the departure date
        <br>- <span class="cancelled_14_7 grey"></span> % of total amount when cancelled between 14 and 7 days prior to the departure date
        <br>- <span class="cancelled_7_2 grey"></span> % of total amount when cancelled between 7 and 2 days prior to the departure date
        <br>- <span class="cancelled_2 grey"></span> % of total amount when cancelled less than 2 working days prior to the departure date</p>
        <h3 class="m-0">Exceptions</h3>
        <p class="grey">
            If you want to make changes while on the road, some extra costs might be applied. Changes on the road or while travelling should be asked to the driver. He/she is free to accept the proposed changes or not and is entitled to ask an upfront payment for the extra costs involved.
            <br><br>
            Please note that the driver is bound to the law of working/driving and resting hours and he must always be sure to comply with this law. This might therefore be a reason for the need of a second driver or the reason for not granting your wish for adaptation of the travel plan.
            <br><br>
            Here below you can see a list of extra charges that might apply when you request changes after closing the deal with this transport company:
            <br>
            <br>- Extra kilometers (€ per km): <span class="extra_km grey"></span>
            <br>- Extra hours driver daytime (€): <span class="extra_h_driver_daytime grey"></span>
            <br>- Extra hours driver evening /nighttime (€): <span class="extra_h_driver_evening grey"></span>
            <br>- Extra night lodging driver (€): <span class="extra_night_lodging grey"></span>
            <br>- Extra meal driver (€): <span class="extra_meal grey"></span>
        </p>
    </div>
</div>

        <div class="col-4">
            <div class="right-info_bus">
                <p class="flex"><img src="/static/bus-b.png" alt="bus" class="bus-b"><b class="company_name"></b></p>
                <div class="flex">
                    <div class="reservation-rating m-0 px-1"></div>
                    
                    
                    
                    
                    
                    
                    
                    <span class="t-14 pointer open-read-reviews-popup" style="color: #3DA1CB;margin-left: 7px;margin-right: 10px;">Read reviews (<span class="reviews_num text-file-add"></span>)</span>
                </div>
                <div class="margin-top">
                    <p class="mb-0">Kan niet rijden 2611AM Delft</p>
                    <p class="company_country"></p>
                </div>
                <div class="margin-top">
                    <p class="m-0 t-14">Fleet size: <span class="fleet_size"></span></p>
                    <p class="m-0 t-14">Tel: <span class="phone_number"></span></p>
                </div>
                <div class="margin-top">
                    <span class="m-0 t-14 grey">Member since: <span class="traveler_member_since grey"></span></span>
                </div>
                <button class="btn-message flex w-100 margin-top" onclick="open_reservation_chat(68)">
                    <img src="/static/unknown-avatar.jpg" class="face" alt="face">
                    Send message <span class="contact_name text-white pl-1"></span>
                </button>
            </div>
        </div>
    </div>
</div>
<div class="read-review-popup hide">
    <div class="flex justify-content-between">
        <h2>Reviews <span class="text-secondary-dark"></span></h2>
        <button type="button" class="close pr-lg-3" aria-label="Close">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="all_reviews container p-3">
        
    </div>
</div>

<div class="reservation-edit">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="/static/js/bootstrap-datetimepicker.min.js"></script>

<!-- <link rel="stylesheet" href="/static/css/bootstrap-datetimepicker.min.css">
<script src="/static/js/bootstrap-datetimepicker.min.js"></script>
 -->


<div class="travel hide w-100 edit-trip">
    <div class="edit-trip__container">
        <div class="flex header-block">
              <h2>Additional details</h2>
              <img src="/static/close.png" alt="close" class="close">
        </div>
        <hr class="edit-trip__line">
        <div class="group-info">
            <div class="flex">
                <p class="m-0 group-info__title"><b>Group size<span class="text-danger">*</span></b></p>
                <input id="groupSizePopup" class="form-control group-info__input--small" type="number">
            </div>
            <div class="flex about-group">
                <p class="m-0 group-info__title"><b>About the group<span class="text-danger">*</span></b></p>
                <textarea id="detailsPopup" class="form-control group-info__input" cols="30" rows="2"></textarea>
            </div>
        </div>
  
  
  
  
  
  
  
  
  

        <div id="main_block_multi"></div>

        <div class="edit-trip__footer-block mt-4">
            <div class="spline pr-5">
                <button class="add-destination" onclick="add_part(this)">+ Add destination</button>
            </div>
            <hr class="footer-block__line">
            <p class="t-14 font-bold mb-0">Select trip request visibility</p>
            <div class="d-flex mt-3">
                <label class="option-label" for="option-radio1">
                    <input type="radio" id="option-radio1" name="option-radio" class="option-input" checked="checked" value="1">
                    <span class="checkmark"></span>
                    <div>
                        <button class="option-limited">limited</button>
                        <p class="mb-0">Only bus companies that have quoted me</p>
                    </div>
                </label>
                <label class="option-label" for="option-radio2">
                    <input type="radio" id="option-radio2" name="option-radio" class="option-input" value="2">
                    <span class="checkmark"></span>
                    <div>
                        <button class="option-public">public</button>
                        <p class="mb-0">Show trip to all bus companies</p>
                    </div>
                </label>

            </div>
            <hr class="footer-block__line">
            <div class="justify-content-end flex pt-3 pr-4">
                <button id="update_plan" class="btn btn-success text-uppercase font-bold">
                    UPDATE TRAVEL PLAN
                </button>
            </div>

        </div>
    </div>
</div>
<script>
    $('.close').click(function () {
        $('#main_block_multi').empty()
    });

    $(".column").sortable({
        connectWith: ".column",
        handle: ".portlet-header",
        cancel: ".portlet-toggle",
        placeholder: "portlet-placeholder ui-corner-all"
    });

    $(".portlet")
    .addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all")
    .find(".portlet-header")
    .addClass("ui-widget-header ui-corner-all")
    .prepend("<span class='ui-icon ui-icon-minusthick portlet-toggle'></span>");

    $(".portlet-toggle").on("click", function() {
        var icon = $(this);
        icon.toggleClass("ui-icon-minusthick ui-icon-plusthick");
        icon.closest(".portlet").find(".portlet-content").toggle();
    });

    

    function set_first_trash() {
        let firstElement = $(`.main-trip`)[0];
        if ($(`.main-trip`).length > 1) {
            $(firstElement).find('.delete-main').removeClass('d-none');
        } else {
            $(firstElement).find('.delete-main').addClass('d-none');
        }
    }

    function delete_step(id) {
        $(`#trip${id}`).remove();
        set_first_trash();
        let array = $(".main-trip");
        for (let i=0; i < array.length; i++) {
            array[i].setAttribute("index", i);
        }
        let nextIndex = array.length - 1;
        $(`.add-destination`).attr('index', nextIndex);
    }

    function add_part(elButton) {
        let subs_length = $(`.main-trip`).length+1;
        let transfers = `<option selected="selected" value=""></option>`;
        for(let i = 0; i < services.length; i++){
                transfers += `<option time="${services[i].time}" value="${services[i].id}">${services[i].translations__name}</option>`
        }
        let indexButton = $(elButton).attr('index');
        let nextIndex = parseInt(indexButton) + 1;
        $(elButton).attr('index', nextIndex);
        rebuildIndexes(nextIndex);
        let parent = $("#main_block_multi");
        let html = `<form id="trip${subs_length}" class="last-tab main-trip portlet one-route" index="${nextIndex}">
                    <div class="portlet-header"></div>
                    <div class="row portlet-content">
                        <div class="col-12 row first-row">
                            <div class="m-block">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">From</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="from${subs_length}" class="rounded form-control from-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="from">
                                    </div>
                                </div>
                            </div>
                            <div class="multi-to">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">To</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="to${subs_length}" class="rounded form-control to-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="to">
                                    </div>
                                </div>
                            </div>
                            <div class="t-14 font-bold pl-lg-3">
                                <p class="t-14 m-0 one-route__text">Departure date</p>
                                <div class="input-group mb-3">
                                    <input type="date" id="from_date${subs_length}" class="form-control from_date-multi departure" aria-describedby="basic-addon1">
                                </div>
                            </div>
                            <div class="t-14 font-bold col-lg-2 mob-width-date">
                                <p class="t-14 m-0 one-route__text">Departure time:</p>
                                <div class="d-flex form-control justify-content-between">
                                    <input id="from_time-hour${subs_length}" class="datetimepicker from_time-multi" placeholder="00:00">
                                    <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourFromChecked${subs_length}" class="checkbox"><input id="tourFromChecked${subs_length}" class="check" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addFirstTour${subs_length}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="from-select${subs_length}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-starts-hour${subs_length}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-ends-hour${subs_length}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourToChecked${subs_length}" class="checkbox"><input id="tourToChecked${subs_length}" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addSecondTour${subs_length}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="to-select${subs_length}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-starts-hour${subs_length}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-ends-hour${subs_length}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="justify-content-center add-block">
                        <button type="button" class="btn button_off" index="${nextIndex}">
                            <i class="fas fa-plus" ></i>
                        </button>
                    </div>
                    <div>
                        <button class="btn btn-outline-danger position_corner delete-main" id="delete_step_${subs_length}" onclick="delete_step(${subs_length})">
                            <i class="far fa-trash-alt"></i>
                        </button>
                    </div>
                </form>`;

        $(html).appendTo(parent);
        set_first_trash();
        let prev_to = $(`#trip${subs_length}`).prev().find("input[name='to']").val();
        $(`#from${subs_length}`).val(prev_to);
        $('.add-block').show();
        validDate(`from_date${subs_length}`);
        setDate();
        $('input[class*=autocomplete-added]').on('input', function () {
            if (this.value.length !== 0) {
                send_post("/autocomplete/", {'text': this.value}, false, (response) => {
                    autocomplete(document.getElementById(this.id), response.data);
                });
            }
        });

        $("select[class*='tour-select']").change(function () {
            if ($(this).parents('.toggle-transfer').find('.from-time').val()  &&  $(this).children("option:selected").val()) {
                calculate_end_time(this);
            }
        });

        $(".from-time").blur(function () {
            if ($(this).parents('.toggle-transfer').find('.tour-select').children("option:selected").val() && $(this).val()) {
                calculate_end_time($(this).parents('.transfer-container').find('.tour-select')[0]);
            }
        });

        $(function () {
            $('.datetimepicker').datetimepicker({
                format: "HH:mm"
            });
        });
    }


    $("#main_block_multi").on("click", ".add-block", function () {
        let subs_length = $(`.main-trip`).length+1;
        let transfers = `<option selected="selected" value=""></option>`;
        for(let i = 0; i < services.length; i++){
                transfers += `<option time="${services[i].time}" value="${services[i].id}">${services[i].translations__name}</option>`
        }
        let indexButton = $(this).find(`.button_off`).attr('index');
        let rows = $('.main-trip');
        let prevTrip = searchTripByIndex(rows, indexButton);
        let nextIndex = parseInt(indexButton) + 1;
        $('.add-destination').attr('index', rows.length);
        rebuildIndexes(nextIndex);
        let html = `
                <form id="trip${subs_length}" class="last-tab main-trip portlet one-route" index="${nextIndex}">
                    <div class="portlet-header"></div>
                    <div class="row portlet-content">
                        <div class="col-12 row first-row">
                            <div class="m-block">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">From</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="from${subs_length}" class="rounded form-control from-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="from">
                                    </div>
                                </div>
                            </div>
                            <div class="multi-to">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">To</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="to${subs_length}" class="rounded form-control to-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="to">
                                    </div>
                                </div>
                            </div>
                            <div class="t-14 font-bold pl-lg-3">
                                <p class="t-14 m-0 one-route__text">Departure date</p>
                                <div class="input-group mb-3">
                                    <input type="date" id="from_date${subs_length}" class="form-control from_date-multi departure" aria-describedby="basic-addon1">
                                </div>
                            </div>
                            <div class="t-14 font-bold col-lg-2 mob-width-date">
                                <p class="t-14 m-0 one-route__text">Departure time:</p>
                                <div class="d-flex form-control justify-content-between">
                                    <input id="from_time-hour${subs_length}" class="datetimepicker from_time-multi" placeholder="00:00">
                                    <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourFromChecked${subs_length}" class="checkbox"><input id="tourFromChecked${subs_length}" class="check" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addFirstTour${subs_length}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="from-select${subs_length}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-starts-hour${subs_length}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-ends-hour${subs_length}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourToChecked${subs_length}" class="checkbox"><input id="tourToChecked${subs_length}" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addSecondTour${subs_length}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="to-select${subs_length}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-starts-hour${subs_length}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-ends-hour${subs_length}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="justify-content-center add-block">
                        <button type="button" class="btn button_off" index="${nextIndex}">
                            <i class="fas fa-plus" ></i>
                        </button>
                    </div>
                    <div>
                        <button class="btn btn-outline-danger position_corner delete-main" id="delete_step_${subs_length}" onclick="delete_step(${subs_length})">
                            <i class="far fa-trash-alt"></i>
                        </button>
                    </div>
                </form>`;

        $(prevTrip).after(html);
        set_first_trash();
        let prev_to = $(`#trip${subs_length}`).prev().find("input[name='to']").val();
        let last_trip_second = $(`#trip${subs_length}`).next().find("input[name='from']").val();
        last_trip_second = (last_trip_second == undefined) ? "" : last_trip_second;
        $(`#from${subs_length}`).val(prev_to);
        $(`#to${subs_length}`).val(last_trip_second);
        $('.add-block').show();
        validDate(`from_date${subs_length}`);
        setDate();
        $('input[class*=autocomplete-added]').on('input', function () {
            if (this.value.length !== 0) {
                send_post("/autocomplete/", {'text': this.value}, false, (response) => {
                    autocomplete(document.getElementById(this.id), response.data);
                });
            }
        });

        $("select [class*='tour-select']").change(function () {
            if ($(this).parents('.toggle-transfer').find('.from-time').val() &&  $(this).children("option:selected").val()) {
                calculate_end_time(this);
            }
        });

        $(".from-time").blur(function () {
            if ($(this).parents('.toggle-transfer').find('.tour-select').children("option:selected").val() &&  $(this).val()) {
                calculate_end_time($(this).parents('.transfer-container').find('.tour-select')[0]);
            }
        });

        $(function () {
            $('.datetimepicker').datetimepicker({
                format: "HH:mm"
            });
        });
    });


    $(`input[class*='autocomplete-added']`).on('input', function () {
        if (this.value.length !== 0) {
            send_post("/autocomplete/", {'text': this.value}, false, (response) => {
                autocomplete(document.getElementById(this.id), response.data);
            });
        }
    });
    function searchTripByIndex(rows, index) {
                return $(".main-trip").filter(function() {
                    return $(this).attr("index") === index;
                }).get(0);
            }
    function rebuildIndexes(nextIndex) {
                let newNextIndex = nextIndex;
                $(".main-trip").filter(function() {
                    return $(this).attr("index") >= nextIndex;
                }).each(function() {
                    newNextIndex = newNextIndex + 1;
                    $(this).attr("index",newNextIndex);
                })
            }

    function get_trip_type() {
        let routesNumber = $(`.main-trip`).length;
        let firstFrom = $(`[name="from"]`).first().val();
        let lastEnd = $(`[name="to"]`).last().val();

        if (routesNumber===1){return 1;}
        else if (routesNumber===2 && firstFrom===lastEnd) {return 2;}
        else {return 3;}
    }

    $('#update_plan').click(
    function () {
        let routesLength = $('.main-trip').length;
        let passengers = $(`#groupSizePopup`).val();
        let details = $('#detailsPopup').val();

        let trip_type = get_trip_type();
        if (passengers && details) {
            let data = {
                'trip_id': $(this).attr('trip_id'),
                'routes': [],
                'unique_name': null,
                'type': trip_type,
                'prev_id': $(this).attr('prev_id'),
                'is_public': $('#option-radio2').is(':checked'),
                'passengers': passengers,
                'details': details,
            };
            for (let i = 0; i < routesLength; i++) {
                let index = $(`.main-trip[index*=${i}]`).attr('id').replace('trip','');
                if ($(`#to${index}`).val()) {
                    let point_1_loco = $(`#from-select${index}`).val() ?  $(`#from-select${index}`).val() : '';
                    let point_2_loco = $(`#to-select${index}`).val() ? $(`#to-select${index}`).val() : '';

                    let fromTimeStarts = $(`#from_time-starts-hour${index}`).val() ? $(`#from_time-starts-hour${index}`).val() : '';
                    let fromTimeEnds = $(`#from_time-ends-hour${index}`).val() ? $(`#from_time-ends-hour${index}`).val() : '';
                    let toTimeStarts = $(`#to_time-starts-hour${index}`).val() ? $(`#to_time-starts-hour${index}`).val() : '';
                    let toTimeEnds = $(`#to_time-ends-hour${index}`).val() ? $(`#to_time-ends-hour${index}`).val() : '';

                    data['routes'].push({
                        'point_1': $(`#from${index}`).val(),
                        'point_2':  $(`#to${index}`).val(),
                        'point_1_loco': point_1_loco,
                        'point_2_loco': point_2_loco,
                        'date': $(`#from_date${index}`).val(),
                        'time': $(`#from_time-hour${index}`).val(),
                        'fromTimeStarts': fromTimeStarts,
                        'fromTimeEnds': fromTimeEnds,
                        'toTimeStarts': toTimeStarts,
                        'toTimeEnds': toTimeEnds,
                    });
                }
            };
            send_post("/traveler/create_sub_trip/", data, true, (response) => {
                    if (response.status === 1) window.location.href = `/en/get-transport-quote/details/${response.trip_id}`;
                else if (response.status === -1) error_alert(response.message);
             });
        }
    });

</script>
<style>
    .portlet {
      margin: 0 1em 1em 0;
      padding: 0.3em;
    }

    .portlet-header {
        right: 0px;
        height: 160px;
        z-index: 999999;
      padding: 0.5em 0.5em;
      margin-right: 0.5em;
      position: absolute;
    }

    .portlet-toggle {
      position: absolute;
      top: 50%;
      right: 0;
      margin-top: -8px;
    }

    .portlet-content {
      padding: 0.4em;
    }

    .portlet-placeholder {

      border: 1px dotted black;
      margin: 0 1em 1em 0;
      height: 160px;

    }


</style>

</div>
<script>
    $(".close").on("click", function() {
        $('body').removeClass('shadow-popup');
        $('.active .hide.is-open').removeClass('is-open');
    });

    $('.open-read-reviews-popup').on('click', function() {
        $('body').addClass('shadow-popup').addClass('active');
        $('.read-review-popup').addClass('is-open');
    });

    $(`#reservations_requests .edit-popup-open`).click(function () {
        $(`.view-detailed-quote`).removeClass('is-open');
        $('body').addClass('shadow-popup').addClass('active');
        $('#reservations_requests .hide').removeClass('is-open');
        $('.reservation-edit .hide.edit-trip').addClass('is-open');
    });
</script>



<div class="chat d-none">
    <input type="text" id="chat_id_socket_io" hidden="">
    <div class="flex align-items-start">
        <div class="flex col-12">
            <span style="color: #3DA1CB; margin-right: 20px; cursor: pointer;" onclick="hide_chat_open_main()">
                <i class="fas fa-arrow-left"></i>
                View all
            </span>
            <h1>Chat with <span class="company-name"></span> </h1>
        </div>
        <div class="col-lg-8 col-md-12 left h-100">
            <div class="bg-light p-3 flex mb-3 border rounded">
                <div class="col-lg-5 col-md-12">
                    <b>Reservation for order ID:</b><span class="order-id"></span>
                </div>
                <div class="col-lg-7 col-md-12">
                    <b>Status:</b> <span class="chat-status font-bold"></span>
                </div>
            </div>
            <div class="flex no-wrap align-items-start">
    <img class="rounded-circle logo_image_user mr-1" src="/static/unknown-avatar.jpg" alt="avatar">
    <div class="block-message w-100">
        <textarea id="btn-input" class="w-100 block-message--message" cols="30" rows="5"></textarea>
        <div class="send-message">
            <div class="align-items-center container justify-content-between row">
                <span class="t-13"><a href="#" class="t-13">Get help/advice from Customer Service</a></span>
                <button id="btn-chat" class="btn-message m-0 text-uppercase">SEND MESSAGE</button>
            </div>
            <div class="row justify-content-start container">
                            <span class="btn_white text-uppercase w-25 p-lg-2 btn-file-new pointer">
                                choose file
                                <input type="file" id="file" accept=".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf" name="myfile">
                            </span>
            </div>
        </div>
    </div>
</div>
<p class="parent w-100 center">
    <span class="text-uppercase">INQUIRY SENT </span>
</p>
<div class="show-message msg_container_base panel-body">
    <!--<div class="notification align-items-center add-file-bg border-box d-flex justify-content-between mt-3">
        <span class="m-1"><span class="font-bold">Client</span> requested a reservation for <span class="details-off">2019090066.1 on Friday, July 19, 2019 10:00 am</span></span>
        <div class="view-details col-lg-4 border-left d-none">
            <p class="m-0 font-italic">Trip number: <span class="font-bold">2019090066.1</span></p>
            <p class="m-0 font-italic">Created by customer service</p>
            <p class="m-0 font-italic">Departure date: <span class="font-bold">19-7-2019</span></p>
            <p class="m-0 font-italic">Departure from: <span class="font-bold">Barcelona</span></p>
            <p class="m-0 font-italic">Total amount: <span class="font-bold">€ 10522,00</span></p>
        </div>
        <button type="button" class="btn-white text-uppercase m-1" onclick="openDetails(this)">View details</button>
    </div>
    <div class="notification align-items-center warning-bg border-box d-flex justify-content-between mt-3">
        <span><span class="font-bold">Client</span> requested a reservation for 2019090066.1 on Friday, July 19, 2019 10:00 am</span>
    </div>
    <div class="notification align-items-center success-bg border-box d-flex justify-content-between mt-3">
        <span><span class="font-bold">Client</span> requested a reservation for 2019090066.1 on Friday, July 19, 2019 10:00 am</span>
    </div>-->
</div>

<script>
    $('#file').on('change', function () {
        let parent = $('.parent');
        let path = $('#file').val().replace(/^.*[\\\/]/, '');
        let html = `<div class="main-add align-items-center justify-content-between add-file-bg border-box d-flex mt-3">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-paperclip pr-lg-2 text-file-add"></i>
                            <span class="text-file-add"><a>${path}</a></span>
                        </div>
                        <button type="button" onclick="add_file_close(this)" class="close add-file-close m-0" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>`;
        $(parent).before(html);
        $('#file').val('');
    });

    $('#btn-chat').on('click', () => {
        if ($('#btn-input').val() !== "" || $('#file').val() !== "") {
            let msg = ($('#btn-input').val() === "") ? null : $('#btn-input').val();

            var files = [];
            if ($('#file').val() !== "") {
                let data, xhr;
                let file = document.getElementById('file').files[0];
                data = new FormData();
                data.append('file', file);

                $.ajax({
                    url: 'https://api.rab.dev19.splinestudio.com/upload_message_file/',
                    type: "POST",
                    async: false,
                    processData: false,
                    contentType: false,
                    cache: false,
                    data: data,
                    enctype: 'multipart/form-data',
                    success: function (response) {
                        files.push(`https://api.rab.dev19.splinestudio.com` + response.file_url + ',' + response.file_name);
                    },
                    error: function (response) {
                    }
                });
            } else {
                var file_url = null;
            }

            send_post(`/socket/say/`, {
                'msg': msg,
                'file_url': file_url,
                'chat_id': $('#chat_id_socket_io').val(),
                'type': 0,
            }, false, (response) => {
            });

            $('#btn-input').val('');
            $('#file').val('');
            $('.main-add').remove();
        } else {
        }
    });
    function add_file_close(element) {
        $(element).parents('.add-file-bg').remove();
    }
</script>

        </div>
        <div class="col-lg-4 col-md-12 right bg-light border rounded">
            <div class="center">
                <img class="rounded-circle logo_image_admin" src="/static/unknown-avatar.jpg" alt="avatar">
                <b class="pt-18 hardworker">Francisco</b>
                <div class="flex">
                    <span class="ratings pt-18 mr-3 company-name"></span>
                    <div class="rating-company-chat" style="font-size: 26px; margin: 0;"></div>
                </div>
            </div>
            <div class="border-bottom">
                <p class="mb-0">Kan niet rijden  2611AM</p>
                <p class="company_country"></p>
                <p>Fleet size: <span class="fleet_size"></span> <br>Tel: <span class="phone_number"></span></p>
                <p class="grey">Member since: <span class="member_since grey"></span></p>
            </div>
            <div class="border-bottom pb-3">
                <h3 class="mt-2 mb-0">Journey summary</h3>
                <div class="parent-block"></div>
                <div class="flex mb-4 mt-3">
                    <img src="/static/clock.png" class="clock" alt="clock">
                    <p class="t-14 m-0 total_estimates"></p>
                    <div class="tours-flag row pl-lg-4">
                        <img src="/static/goal.png" class="goal" alt="goal">
                        <p id="tours" class="t-14 m-0 total_transfers"></p>
                    </div>
                </div>
                <p class="mb-0"><b>Departure date:</b> <span class="departure_date"></span></p>
                <p><b>Departure time:</b> <span class="departure_time"></span></p>
                <div class="flex">
                    <span class="group-size" style="height: 32px;"></span>
                    <div class="flex">
                        <p class="t-14 m-0"><b>Group size:</b><span id="group" class="t-14 pl-1"></span></p>
                        <p class="t-14 m-0" style="line-height: 17px;"><span id="details" class="t-14"></span></p>
                    </div>
                </div>
                <button type="button" class="btn-white mt-2 mb-2 ml-0 view-edit-trip" quote_id="68">VIEW DETAILED PLAN</button>
            </div>
            <div>
                <h3 class="mt-2 mb-1">Payment</h3>
                <div class="bg-white justify-content-between flex p-2 t-15">
                    <b>Subtotal</b>
                    <b class="subtotal"></b>
                </div>
                <div class="justify-content-between flex p-2 t-15">
                    <b>Booking fee</b>
                    <span class="booking_fee"></span>
                </div>
                <div class="bg-white justify-content-between flex p-2 t-15">
                    <b>VAT ()</b>
                    <span class="vat"></span>
                </div>
                <div class="justify-content-between flex p-2 t-15 mb-3">
                    <b>Total price</b>
                    <b class="pt-18 total_price"></b>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
<script src="/static/js/chat.js"></script>
<script src="/static/js/rate.js"></script>
<script>
    $('.view-edit-trip').click(function ()  {
        $('#reservations-requests').addClass('d-none');
        $('.chat').addClass('d-none');
        $(`.reservation_details`).removeClass('d-none');
        $('.chat .parent-block').empty();
        $('.reservation-edit #main_block_multi').empty();

        let data = {
            'quote_id': $(this).attr('quote_id'),
        };
        send_post(`/traveler/reservation_details/`, data, false, (response) => showViewQuoteData(response));
    });

    function showViewQuoteData(response) {
        console.log(response);

        let trip = response.trip_data.sub_trip_id;

        $(`.order-id`).text(trip);
        if (response.quote_data.payment_status === "Reserved") {
            $('.status').addClass("text-payment");
            $('.status').text("Down payment received");
        } else if (response.quote_data.payment_status === "Paid") {
            $('.status').addClass("text-check");
            $('.status').text("Reservation 100% confirmed. Transport company confirms having received complete payment.");
        } else {
            $('.status').addClass("text-exclamation");
            $('.status').text("You have given the provisional reservation, we are waiting for the down payment by the client");
        }

        let company_name =  response.company_data.name;
        $(`.company_name`).text(company_name);
        let contact_name = response.company_data.contact_name;
        $(`.contact_name`).text(contact_name);
        let bus_image = response.company_data.passport_pic === '' ? '/static/bus/default-no-bus-pic.png' : response.company_data.passport_pic;
        $(`.fotorama__stage__frame img`).attr('src', `http://api.rab.dev19.splinestudio.com${bus_image}`);

        //Reviews
        $(`.reviews_num`).text(response.company_rating.rating_count);
        for (let i = 0; i < response.company_rating.reviews.length; i++) {
            let parent = $(`.read-review-popup .all_reviews`);

            let points = response.company_rating.reviews[i].trip_points;
            let rating = response.company_rating.reviews[i].avg_rating;
            let review_created_at = response.company_rating.reviews[i].created_at;
            let rating_by = response.company_rating.reviews[i].profile__first_name + ' ' + response.company_rating.reviews[i].profile__last_name;
            let from_country = response.company_rating.reviews[i].profile__country__nicename;
            let review_comment = response.company_rating.reviews[i].comments;
            let review_reply = response.company_rating.reviews[i].reply;
            let review_updated_at = response.company_rating.reviews[i].updated_at;

            let html = `<div class="col-12 card-trip flex flex-column">
            <span class="font-bold">${points}</span>
            <div class="flex">
                <div class="popup-stars p-0">
                    <div class="rating m-0" data-rate-value='${rating}'></div>
                </div>
                <span class="text-secondary-dark pl-2">${review_created_at} Rating by ${rating_by} from ${from_country}</span>
            </div>
            <span class="font-italic">${review_comment}</span>
            <div class="col-12 company-reply company-response${i} mt-3">
                    <div class="flex message-bubble m-0">
                        <div class="flex flex-column align-items-start">
                            <div class="flex">
                                <span class="font-bold">Reply from bus company</span>
                                <span class="text-secondary-dark pl-2">${review_updated_at}:</span>
                            </div>
                            <span class="font-italic">${review_reply}</span>
                        </div>
                    </div>
            </div>
        </div>`;
            $(parent).append(html);
            if (review_reply === '') $(`.company-response${i} `).addClass('d-none');

            let options = {
                max_value: 5,
                step_size: 1.0,
                readonly: true,
                initial_value: rating,
            };

            $(`.popup-stars .rating`).rate(options);
        }
        //

        let options = {
            max_value: 5,
            step_size: 1.0,
            readonly: true,
            initial_value: response.company_rating.rating_count,
        };
        $(`.reservation-rating`).rate(options);
        $('.company_country').text(response.company_data.country);
        let memberSince = response.company_data.member_since;
        $(`.traveler_member_since`).text(memberSince);
        let fleetSize = response.company_data.fleet_size;
        $(`.fleet_size`).text(fleetSize);
        let phoneNumber = response.company_data.service_phone;
        $(`.phone_number`).text(phoneNumber);

        let bus_seats = response.bus_data.passengers;
        let bus_luggage = response.bus_data.luggage;
        let bus_year = response.bus_data.year;
        $(`.bus-seats`).text(bus_seats);
        $(`.bus-luggage`).text(bus_luggage);
        $(`.bus-year`).text(bus_year);

        let all_facilities = response.bus_data.facilities;

        for (let key in all_facilities) {
            if (key !== 'id' && key !== 'bus') {
                let facility = $(`#${key}`);

                if (facility !== null) {
                    all_facilities[key] ? $ (facility).addClass('checked') : $(facility).addClass('no-checked');
                }
            }
        }

        let groupSize = response.trip_data.group_size;
        $(`.group_size`).text(groupSize);
        let groupDescription = response.trip_data.group_descr;
        $(`.group_descr`).text(groupDescription);

        if (response.trip_data.trip_file) {
            $(`.reservation_details .main-add`).removeClass('hide-element');
            $(`.reservation_details .filePopup`).text(response.trip_data.trip_file);
        }

        let subtotal = response.quote_data.summary.main_price.subtotal;
        $(`.subtotal`).text(`€${subtotal}`);
        let fee = response.quote_data.summary.main_price.booking_fee === '' ? 0 : response.quote_data.summary.main_price.booking_fee;
        $(`.booking_fee`).text(`€${fee}`);
        let vat = response.quote_data.summary.main_price.vat === '' ? 0 : response.quote_data.summary.main_price.vat;
        $(`.vat`).text(`€${vat}`);
        let totalPrice = response.quote_data.summary.main_price.total_price;
        $(`.total_price`).text(`€${totalPrice}`);

        let paymentBefore = response.quote_data.payment_terms.payment_before_reservation;
        $(`.payment-before`).text(paymentBefore);

        let routes = response.trip_data.routes;
        let parent = $(`.block-treval`);

        for (let i = 0; i < routes.length; i++) {
            let html = `<div class="w-100 pb-lg-2 route${i}">
                            <span class="title-travel font-bold first-day-route${i} d-none">Day <span class="route_day${i}"></span> - <span class="trip-date route-date${i}"></span></span>
                            <div class="flex bg-secondary">
                                <div class="col-lg-4">From</div>
                                <div class="col-lg-4">To</div>
                                <div class="col-sm">Costs</div>
                            </div>
                            <div class="flex bg-light w-100 pb-lg-2">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-lg-4">
                                            <div class="align-items-lg-start flex flex-column">
                                                <span class="from_point_name${i} font-bold"></span>
                                                <span class="from_point_time${i}"></span>
                                            </div>
                                        <!--<span class="badge badge-pill badge-danger mt-1" data-toggle="tooltip" data-placement="right" title="Previous value was">!</span>-->
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="align-items-lg-start flex flex-column">
                                                <span class="to_point_name${i} font-bold"></span>
                                                <span class="to_point_time${i}"></span>
                                            </div>
                                        <!--<span class="badge badge-pill badge-danger mt-1" data-toggle="tooltip" data-placement="right" title="Previous value was">!</span>-->
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="flex justify-content-lg-between">
                                                <div class="align-items-lg-start flex flex-column">
                                                    <span><span class="route_length${i} m-0"></span></span>
                                                    <span class="route_duration_time${i} m-0"></span>
                                                </div>
                                                <span class="route_price${i}"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="container services${i} d-none">
                                    <div class="row">
                                        <div class="col-lg-4">
                                            <div class="m-lg-0 service treval-info from_select${i} d-none">
                                                <span class="t-14 m-0 from_service${i}"></span>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="m-lg-0 service treval-info to_select${i} d-none">
                                                <span class="t-14 m-0 to_service${i}"></span>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="flex justify-content-lg-between">
                                                <span class="time_transfer${i}"><span class="all_transfer_time${i}"></span></span>
                                                <span class="transfer_price${i}"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="extra-costs${i} d-none">
                                <div class="container">
                                    <div class="row bg-table-tr p-lg-1">
                                        <div class="col-lg-4">
                                            <span class="font-bold">Extra Costs</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="container">
                                    <div class="bg-table p-lg-1 row">
                                        <div class="col-lg-4">
                                            <span>Toll</span>
                                        </div>
                                        <div class="col-lg-4">
                                        <span class="font-italic tool-price-message${i}"></span>
                                    </div>
                                        <div class="col-sm flex justify-content-lg-end">
                                            <span class="highway_toll_price${i}"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="container">
                                    <div class="bg-light p-lg-1 row">
                                    <div class="col-lg-4">
                                        <span>Parking</span>
                                    </div>
                                    <div class="col-lg-4">
                                        <span class="font-italic parking-price-message${i}"></span>
                                    </div>
                                    <div class="col-sm flex justify-content-lg-end">
                                        <span class="parking_costs${i}"></span>
                                    </div>
                                </div>
                                </div>
                                <div class="container">
                                    <div class="bg-table p-lg-1 row">
                                    <div class="col-lg-4">
                                        <span>Expenses</span>
                                    </div>
                                    <div class="col-lg-4">
                                        <span class="font-italic expenses-price-message${i}"></span>
                                    </div>
                                    <div class="col-sm flex justify-content-lg-end">
                                        <span class="driver_expenses${i}"></span>
                                    </div>
                                </div>
                                </div>
                                <div class="container">
                                    <div class="bg-light p-lg-1 row">
                                    <div class="col-lg-4">
                                        <span>Overig</span>
                                    </div>
                                    <div class="col-lg-4">
                                        <span class="font-italic overig-price-message${i}"></span>
                                    </div>
                                    <div class="col-sm flex justify-content-lg-end">
                                        <span class="other_costs${i}"></span>
                                    </div>
                                </div>
                                </div>
                            </div>
                            <div class="bg-table-tr border-top">
                                <div class="container">
                                    <div class="row">
                                            <div class="col-lg-10">
                                                <span>Total Day <span class="route_day${i}"></span></span>
                                            </div>
                                            <div class="col-lg-2 flex justify-content-lg-end">
                                                <span class="font-bold total_day_price${i}"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>`;
            $(parent).append(html);

            if (i === 0) {
                $(`.route0`).addClass('first-block')
            }
            if (routes.length - i === 1) {
                $(`.route${i}`).addClass('last-block')
            }

            let route_day = response.trip_data.routes[i].route_day;
            $(`.route_day${i}`).text(route_day);
            let fromName = response.trip_data.routes[i].from_point__name;
            $(`.from_point_name${i}`).text(fromName);
            let fromTime = response.trip_data.routes[i].time;
            $(`.from_point_time${i}`).text(fromTime);
            let toName = response.trip_data.routes[i].to_point__name;
            $(`.to_point_name${i}`).text(toName);
            let toTime = response.trip_data.routes[i].estimate_date;
            $(`.to_point_time${i}`).text(toTime);
            let routeLength = response.trip_data.routes[i].leg;
            $(`.route_length${i}`).text(routeLength + ' km');
            let routeDuration = response.trip_data.routes[i].duration;
            $(`.route_duration_time${i}`).text(routeDuration + ' hours');
            let routePrice = response.trip_data.routes[i].main_price.route_price;
            $(`.route_price${i}`).text(`€${routePrice}`);

            if (response.trip_data.routes[i].extra_cost) {
                $(`.extra-costs${i}`).removeClass('d-none');
                let toolMessage = response.trip_data.routes[i].highway_toll;
                $(`.tool-price-message${i}`).text(toolMessage);
                let parkingMessage = response.trip_data.routes[i].parking_costs;
                $(`.parking-price-message${i}`).text(parkingMessage);
                let expensesMessage = response.trip_data.routes[i].driver_expenses;
                $(`.expenses-price-message${i}`).text(expensesMessage);
                let overigMessage = response.trip_data.routes[i].other_costs;
                $(`.overig-price-message${i}`).text(overigMessage);

                let highway_toll_price = (response.trip_data.routes[i].main_price.highway_toll_price === '') ? 0 : response.trip_data.routes[i].highway_toll_price;
                $(`.highway_toll_price${i}`).text(`€${highway_toll_price}`);
                let parking_costs = (response.trip_data.routes[i].main_price.parking_costs_price === '') ? 0 : response.trip_data.routes[i].main_price.parking_costs_price;
                $(`.parking_costs${i}`).text(`€${parking_costs}`);
                let driver_expenses = (response.trip_data.routes[i].main_price.driver_expenses_price === '') ? 0 : response.trip_data.routes[i].main_price.driver_expenses_price;
                $(`.driver_expenses${i}`).text(`€${driver_expenses}`);
                let other_costs = (response.trip_data.routes[i].main_price.costs_price === '') ? 0 : response.trip_data.routes[i].main_price.costs_price;
                $(`.other_costs${i}`).text(`€${other_costs}`);

                let total_day_price = parseInt(routePrice) + parseInt(highway_toll_price) + parseInt(parking_costs) + parseInt(driver_expenses) + parseInt(other_costs);
                $(`.total_day_price${i}`).text(`€${total_day_price}`);
            } else {
                let total_day_price = parseInt(routePrice);
                $(`.total_day_price${i}`).text(`€${total_day_price}`);
            }

            let tripDate = response.trip_data.routes[i].slug_date;
            $(`.route-date${i}`).text(tripDate);
            let prevRouteDate = $(`.route${i}`).prev().find('trip-date').text();
            let currentRouteDate = $(`.route-date${i}`).text();

            if (i === 0 || prevRouteDate !== currentRouteDate) {
                $(`.first-day-route${i}`).removeClass('d-none');
            }

            //Transfers
            let point_1_loco = response.trip_data.routes[i].from_service;
            let point_2_loco = response.trip_data.routes[i].to_service;
            let point_1_loco_time = response.trip_data.routes[i].from_service_time;
            let point_2_loco_time = response.trip_data.routes[i].to_service_time;

            if (!(point_1_loco == null || point_2_loco == null)) {
                let transfersTime = 0;

                $(`.services${i}`).removeClass('d-none');
                if (point_1_loco != null && point_1_loco_time != null) {
                    $(`.from_select${i}`).removeClass('d-none');
                    $(`.from_service${i}`).text(point_1_loco);
                    transfersTime += Number($(`.from_service${i}`).text().replace(/(^\d+)(.+$)/i, '$1'));
                }
                if (point_2_loco != null && point_2_loco_time != null) {
                    $(`.to_select${i}`).removeClass('d-none');
                    $(`.to_service${i}`).text(point_2_loco);
                    transfersTime += Number($(`.to_service${i}`).text().replace(/(^\d+)(.+$)/i, '$1'));
                }
                $(`.all_transfer_time${i}`).text(transfersTime + ' hours');

                let transfer_price = (response.trip_data.routes[i].main_price.transfer_price === '') ? 0 : response.trip_data.routes[i].main_price.transfer_price;
                $(`.transfer_price${i}`).text(`€${transfer_price}`);
                let sum_with_transfer = +($(`.total_day_price${i}`).text().substr(1))+ +transfer_price;
                $(`.total_day_price${i}`).text('€'+ sum_with_transfer);
            }

            //Edit routes
            services = (response.service_data.services);
            $('.reservation-edit #groupSizePopup').val(groupSize);
            $('.reservation-edit #detailsPopup').val(groupDescription);
            let transfers = `<option selected="selected" value=""></option>`;
            for(let i = 0; i < response.service_data.services.length; i++){
                transfers += `<option time="${response.service_data.services[i].time}" value="${response.service_data.services[i].id}">${response.service_data.services[i].translations__name}</option>`
            }
            $('.reservation-edit .add-destination').attr('index', i);
            let date = moment(response.trip_data.routes[i].date).format('YYYY-MM-DD');
            let time = fromTime.split(' ')[0];
            let htmlEdit = `<form id="trip${i}" class="last-tab main-trip portlet one-route" index="${i}">
                    <div class="portlet-header"></div>
                    <div class="row portlet-content">
                        <div class="col-12 row first-row">
                            <div class="m-block">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">From</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="from${i}" class="rounded form-control from-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="from" value="${fromName}">
                                    </div>
                                </div>
                            </div>
                            <div class="multi-to">
                                <div class="col p-0 font-bold t-14">
                                    <span class="t-14">To</span>
                                    <div class="input-group mb-3">
                                        <input type="text" id="to${i}" class="rounded form-control to-multi autocomplete-added" placeholder="Enter, streetname, place or country" name="to" value="${toName}">
                                    </div>
                                </div>
                            </div>
                            <div class="t-14 font-bold pl-lg-3">
                                <p class="t-14 m-0 one-route__text">Departure date</p>
                                <div class="input-group mb-3">
                                    <input type="date" id="from_date${i}" class="form-control from_date-multi departure" aria-describedby="basic-addon1" value="${date}">
                                </div>
                            </div>
                            <div class="t-14 font-bold col-lg-2 mob-width-date">
                                <p class="t-14 m-0 one-route__text">Departure time:</p>
                                <div class="d-flex form-control justify-content-between">
                                    <input id="from_time-hour${i}" class="datetimepicker from_time-multi" placeholder="00:00" value="${time}">
                                    <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourFromChecked${i}" class="checkbox"><input id="tourFromChecked${i}" class="check" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addFirstTour${i}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="from-select${i}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-starts-hour${i}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="from_time-ends-hour${i}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width: 208px;" class="flex transfer">
                            <label for="tourToChecked${i}" class="checkbox"><input id="tourToChecked${i}" type="checkbox"><i class="fa fa-check" aria-hidden="true"></i></label> I need tour or transfer
                            <div id="addSecondTour${i}" class="toggle-transfer col-12 row m-0 transfer-container">
                                <div class="col-lg-9 col-md-12 t-14 font-bold pad-5 select">
                                    <p class="t-14 m-0">Select a tour/ transfer</p>
                                    <select id="to-select${i}" class="form-control tour-select">
                                        ${transfers}
                                    </select>
                                </div>
                                <div class="starts pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Starts:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-starts-hour${i}" class="datetimepicker col-2 from-time" placeholder="00:00">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ends pad-5 col-lg-6">
                                    <div class="t-14 font-bold mob-width-date">
                                        <p class="t-14 m-0">Ends:</p>
                                        <div class="d-flex form-control justify-content-between">
                                            <input id="to_time-ends-hour${i}" class="datetimepicker col-1 end-time" placeholder="00:00" disabled="">
                                            <span class="align-items-center d-flex input-group-addon">
                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                    </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="justify-content-center add-block">
                        <button type="button" class="btn button_off" index="${i}">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div>
                        <button class="btn btn-outline-danger position_corner delete-main" id="delete_step_${i}" onclick="delete_step(${i})">
                            <i class="far fa-trash-alt"></i>
                        </button>
                    </div>
                </form>`;
            $('.reservation-edit #main_block_multi').append(htmlEdit);

            validDate(`from_date${i}`);
            setDate();

            if (point_1_loco) {
                $(`.reservation-edit input[id*='tourFromChecked${i}']`).trigger('click');
                $(`.reservation-edit input[id*='tourFromChecked${i}']`).parent().parent().toggleClass('is-checked');
                $('.reservation-edit #from-select'+i+" option").filter(function() {
                    return $(this).text() == `${point_1_loco}`;
                }).prop("selected", true);
                $(`.reservation-edit #from_time-starts-hour${i}`).val(point_1_loco_time);
                if (point_1_loco_time) {calculate_end_time($(`.reservation-edit #from-select${i}`));}
            }
            if (point_2_loco) {
                $(`input[id*='tourToChecked${i}']`).trigger('click');
                $(`input[id*='tourToChecked${i}']`).parent().parent().toggleClass('is-checked');
                $('#to-select'+i+" option").filter(function() {
                    return $(this).text() == `${point_2_loco}`;
                }).prop("selected", true);
                $('#to_time-starts-hour'+i).val(point_2_loco_time);
                if (point_2_loco_time) {calculate_end_time($('#to-select'+i));}
            }
        }
        //

        //Разобраться с новым вывеением времени, поменять проверку
        /*let total_duration = response.trip_data.total_duration;
        let ifDays = ',';

        if (total_duration.includes(ifDays)) {
            let duration_days = (total_duration.split(", ")[0]).split(" ")[0];
            $(`.info-days`).text(duration_days);
            $(`.info-text-days`).text((total_duration.split(", ")[0]).split(" ")[1]);
            let duration_hours = (total_duration.split(", ")[1]).split(" ")[0];
            $(`.info-time`).text(duration_hours);
            $(`.info-hours-time`).text((total_duration.split(", ")[1]).split(" ")[1]);
        } else {
            let duration_hours = total_duration.split(" ")[0];
            $(`.info-time`).text(duration_hours);
            $(`.info-hours-time`).text(total_duration.split(" ")[1]);
            $(`.info-days`).addClass('d-none');
            $(`.info-text-days`).addClass('d-none');
        }*/
        //

        let cancelled_14 = response.company_data.company_bank_details.cancelled_14;
        let cancelled_14_7 = response.company_data.company_bank_details.cancelled_14_7;
        let cancelled_7_2 = response.company_data.company_bank_details.cancelled_7_2;
        let cancelled_2 = response.company_data.company_bank_details.cancelled_2;

        $(`.cancelled_14`).text(cancelled_14);
        $(`.cancelled_14_7`).text(cancelled_14_7);
        $(`.cancelled_7_2`).text(cancelled_7_2);
        $(`.cancelled_2`).text(cancelled_2);

        let extra_km = response.company_data.company_bank_details.extra_km;
        let extra_h_driver_daytime = response.company_data.company_bank_details.extra_h_driver_daytime;
        let extra_h_driver_evening = response.company_data.company_bank_details.extra_h_driver_evening;
        let extra_night_lodging = response.company_data.company_bank_details.extra_night_lodging;
        let extra_meal = response.company_data.company_bank_details.extra_meal;

        $(`.extra_km`).text(extra_km);
        $(`.extra_h_driver_daytime`).text(extra_h_driver_daytime);
        $(`.extra_h_driver_evening`).text(extra_h_driver_evening);
        $(`.extra_night_lodging`).text(extra_night_lodging);
        $(`.extra_meal`).text(extra_meal);

        let quote_id = response.quote_data.quote_id;
        $(`.view-detailed-quote .btn-book`).attr('quote_id', quote_id);
        $(`.view-detailed-quote .decline`).attr('quote_id', quote_id);

        let availability_date = response.quote_data.payment_terms.vehicle_available;
        let amount_valid = response.quote_data.payment_terms.payment_before_reservation;

        $(`.availability_date`).text(availability_date);
        $(`.amount_valid`).text(amount_valid);
    }

    function open_reservation_chat(quote_id) {
        $(`.reservation_details`).addClass('d-none');
        $('.block-treval').empty();
        $('.all_reviews').empty();
        $(`.view-edit-trip.btn-white`).attr('quote_id', quote_id);
        $('.hiden-btn').click();
        let data_chat = {
            'quote_id': quote_id,
        };
        send_post('/get_chat_info/', data_chat, false,  (response) => {
            console.log(response);

            $('.company-name').text(response.company_data.name);
            $('#number-phone').text(response.company_data.service_phone);
            let options = {
                max_value: 5,
                step_size: 1.0,
                readonly: true,
                initial_value: response.company_rating.rating_count,
            };

            $(".rating-company-chat").rate(options);
            if (response.quote_data.quote_status === "Reserved") {
                $('.chat-status').addClass("text-payment");
                $('.chat-status').text("Down payment received");
            }
            if (response.quote_data.quote_status === "Paid") {
                $('.chat-status').addClass("text-check");
                $('.chat-status').text("Reservation 100% confirmed. Transport company confirms having received complete payment.");
            }
            if (response.quote_data.quote_status === "Approved") {
                $('.chat-status').addClass("text-exclamation");
                $('.chat-status').text("You have given the provisional reservation, we are waiting for the down payment by the client");
            }
            $('.company_country').text(response.company_data.country);
            $('.fleet_size').text(response.company_data.fleet_size);
            $('.phone_number').text(response.company_data.service_phone);
            $('.member_since').text(response.company_data.member_since);
            $('#details').text(response.trip_data.group_size);
            $('.total_estimates').text(response.trip_data.total_estimates);
            $('.departure_date').text(response.trip_data.departure_date);
            $('.departure_time').text(response.trip_data.departure_time);
            $('.slug_trip_id').text(response.trip_data.trip_id);
            $('.total_transfers').text(response.trip_data.total_transfers);
            localStorage.setItem("hardworker", response.company_data.contact_name);
            localStorage.setItem("usermessagename", response.traveler_data.first_name);
            $('.chat .subtotal').text('€'+response.quote_data.summary.main_price.subtotal, "subtotal");
            $('.chat .booking_fee').text('€'+response.quote_data.summary.main_price.booking_fee, "booking_fee");
            $('.chat .vat').text('€'+response.quote_data.summary.main_price.vat, "vat");
            $('.chat .total_price').text('€'+response.quote_data.summary.main_price.total_price, "total_price");

            for (let i=0; i<response.trip_data.trip_points.length; i++) {
                let localFrom = response.trip_data.trip_points[i].from_point;
                let localTo = response.trip_data.trip_points[i].to_point;
                let point_1_loco = response.trip_data.trip_points[i].transfers;

                if (i===response.trip_data.trip_points.length-1) {
                    var html = `<div class="w-100">
                                        <div class="p1 pl-3">
                                            <div class="row vline mr-0"></div>
                                            <p class="col pl-1 m-0">
                                                <span class="font-bold t-14">${localFrom}</span>
                                            </p>
                                            <span class="number-routes${i}"></span>
                                        </div>
                                        <div class="p1 pl-3 ">
                                            <p class="col pl-1 m-0">
                                                <span class="font-bold t-14">${localTo}</span>
                                            </p>
                                        </div>
                                    </div>`;
                } else {
                    var html =`<div class="w-100"><div class=" p1 pl-3">
                                        <div class="row vline mr-0"></div>
                                        <p class="col pl-1 m-0">
                                            <span class="font-bold t-14">${localFrom}</span>
                                        </p>
                                        <span class="number-routes${i}"></span>
                                    </div></div>`;
                }
                $('.parent-block').append(html);
                if (point_1_loco !== 0 ) {$('.number-routes'+i).text(`(${point_1_loco} stops)`)}
            }

           /* open_chat_window(, , 'https://dev19.splinestudio.com:9994', 0);*/
        });

        $('#reservations-requests').addClass('d-none');
        $('.chat').removeClass('d-none');
        setTimeout(userName, 1000);
        setTimeout(companyName, 1000);
        function userName() {
            $(".hardworker").text(localStorage.getItem("hardworker"))
        }
        function companyName() {
            $(".user-message-name").text(localStorage.getItem("usermessagename"))
        }
    }

    function hide_details_open_main() {
        $('#reservations-requests').removeClass('d-none');
        $('.reservation_details').addClass('d-none');
        $('.reservation_details .block-treval').empty();
        $('#reservations_requests .all_reviews').empty();
        $('.reservation-edit #main_block_multi').empty();
    }

    function hide_chat_open_main() {
        $('#reservations-requests').removeClass('d-none');
        $('.chat').addClass('d-none');
        $('.chat .parent-block').empty();
        $('.chat-status').removeClass("text-payment").removeClass("text-check").removeClass("text-exclamation");
    }
</script>

            </div>
        </div>
    </div>
</div>
<script>
    $('.nav-link[role="tab"]').click(function () {
        let anchor = this.href.split('#')[1];
        window.location = '#' + anchor;
    });

    $(`#my_messages_tab .list-group-item`).click(function () {
        let active = $(this).attr('id');
        $(`#my_messages_tab .active-profile-name`).text($(`[aria-labelledby=${active}] .accordion`).attr('name'));
    });

    $(document).ready(function () {
        let anchor = window.location.href.split('#')[1];
        if (anchor !== undefined) {
            $(`a[href="#${anchor}"]`)[0].click();
        } else {
            $(`a[href="#quote_requests"]`)[0].click();
        }
    })
</script>

<footer class="footer">
    <div class="container">
        <p><a href="#">Contact</a><a href="#">Sitemap</a><a href="#">Submit bus company</a><a href="#">Countries</a><a href="#">Servizi</a><a href="#">Blog</a><a href="#">About us</a><a href="#">Travel Resources</a></p>
        <p>2010-2020 © RentAutobus.com </p>
    </div>
</footer>
<script>
    $(document).ready(function () {
        $('#tab-list .list-content').children().length > 0 ? $('#tab-list').removeClass('d-none') : $('#tab-list').addClass('d-none');

        if ('' !== 'None') {
            if ('' === '1') {
                return_trip.click();
                duplicate_run_return_trip();
                validDate('from_date');
                validDate('to_date');
            }
            else if ('' === '2') {
                one_way.click();
                duplicate_run_one_way();
                validDate('from_date');
            }
            else if ('' === '3') {
                multi_way.click();
                duplicate_run_multi_way();
                validDate('from_date0');
            }
        }
        setDate();
        window.localStorage.setItem('api_url', 'https://api.rab.dev19.splinestudio.com');
        if (window.location.pathname.includes('/en/countries/')) {
            $('a[href="/en/countries/"]').addClass('active');
        } else if (window.location.pathname === '/en/contacts/') {
            $('a[href="/en/contacts/"]').addClass('active');
        } else if (window.location.pathname === '/en/') {
            $('a[href="/en/"]').addClass('active');
        } else if (window.location.pathname === `/en/get-transport-quote/`) {
            $('a[href="/en/get-transport-quote/"]').addClass('active');
        };

        $("#return_trip").click(function() {
            localStorage.setItem("click_btn", $("#return_trip").val());
        });
        $("#one_way").click(function() {
            localStorage.setItem("click_btn", $("#one_way").val());
        });
        $("#multi_trip").click(function() {
            localStorage.setItem("click_btn", $("#multi_trip").val());
        });
    });
    $(document).on('keypress',function(e) {
        if(e.which === 13 && $(`.banner-title`).length === 1) {
            get_next_page();
        }
        if (e.which === 13 && $(`.banner-title`).length === 0) {
            get_quotes();
        }
    });

    let options = {
        max_value: 5,
        step_size: 1.0,
        readonly: true,
    };
    $(".rating").rate(options);

        function get_next_page(){
            let ids = (localStorage.getItem('click_btn') === 'multi_trip') ? [
                    "from0",
                    "to0",
                    "from_date0",
                    "from_time-hour0",
                ] : [
                    "from",
                    "to",
                    "from_date",
                    "to_date",
                    "from_time-hour",
                    "to_time",
                ];

                for (let id of ids) {
                    let input = document.getElementById(id);
                    if (input !== null) {
                        input.value = $(input).val();
                        localStorage.setItem(id, input.value);
                    }
                }
                document.location.href = '/en/get-transport-quote/';
    }
</script>


</body></html>